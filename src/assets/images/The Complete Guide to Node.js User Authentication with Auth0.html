<!DOCTYPE html>
<!-- saved from url=(0104)https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Get-the-Starter-Application -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./The Complete Guide to Node.js User Authentication with Auth0_files/js"></script><script type="text/javascript" async="" src="./The Complete Guide to Node.js User Authentication with Auth0_files/heap-1279799279.js"></script><script type="text/javascript" async="" src="./The Complete Guide to Node.js User Authentication with Auth0_files/analytics.js"></script><script type="text/javascript" async="" src="./The Complete Guide to Node.js User Authentication with Auth0_files/yzp33pb7addg.js"></script><script async="" src="./The Complete Guide to Node.js User Authentication with Auth0_files/gtm.js"></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'? '&l='+ l:''; j.async=true; j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W7FRLJ');</script><link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/components/1.0.8/media/logos/img/favicon.png"><link rel="stylesheet" href="./The Complete Guide to Node.js User Authentication with Auth0_files/core.min.css"><script class="optanon-category-4" type="text/plain">window.twttr=function(t,e,r){var n,i=t.getElementsByTagName(e)[0],w=window.twttr||{};return t.getElementById(r)?w:((n=t.createElement(e)).id=r,n.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(n,i),w._e=[],w.ready=function(t){w._e.push(t)},w)}(document,"script","twitter-wjs");</script><script class="optanon-category-4" type="text/plain">(function (h, o, t, j, a, r) {h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) }; h._hjSettings = { hjid: 301495, hjsv: 5 }; a = o.getElementsByTagName('head')[0]; r = o.createElement('script'); r.async = 1; r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv; a.appendChild(r);}(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv='))</script><script class="optanon-category-4" type="text/plain">
                  window._6si = window._6si || [];
                  window._6si.push(['enableEventTracking', true]);
                  window._6si.push(['setToken', '17aa5119e1d44eeab301f44113230d69']);
                  window._6si.push(['setEndpoint', 'b.6sc.co']);
                  (function() {
                  var gd = document.createElement('script');
                  gd.type = 'text/javascript';
                  gd.async = true;
                  gd.src = '//j.6sc.co/6si.min.js';
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gd, s);
                  })();</script><title>The Complete Guide to Node.js User Authentication with Auth0</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><meta name="description" content="Learn how to add user authentication to Node.js web apps built with Express using middleware functions. Learn the core concepts of Node.js authentication."><meta property="fb:app_id" content="534074790006350"><meta property="og:type" content="article"><meta property="og:title" content="The Complete Guide to Node.js User Authentication with Auth0"><meta property="og:site_name" content="Auth0 - Blog"><meta property="og:description" content="Learn how to add user authentication to Node.js web apps built with Express using middleware functions. Learn the core concepts of Node.j..."><meta property="og:image" content="https://images.ctfassets.net/23aumh6u8s0i/7tiXdl3hqVv1Zf4ieYQ4to/a28cbc1e456759e92860edd79a07463a/nodejs"><meta property="og:url" content="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/"><meta name="twitter:site" content="@auth0"><meta name="twitter:creator" content="@auth0"><meta name="twitter:title" content="The Complete Guide to Node.js User Authentication with Auth0"><meta name="twitter:description" content="Learn how to add user authentication to Node.js web apps built with Express using middleware functions. Learn the core concepts of Node.js authentication."><meta name="twitter:url" content="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://images.ctfassets.net/23aumh6u8s0i/7tiXdl3hqVv1Zf4ieYQ4to/a28cbc1e456759e92860edd79a07463a/nodejs"><meta name="twitter:image:height" content="512"><meta name="twitter:image:width" content="1024"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><link rel="canonical" href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/"><link rel="amphtml" href="https://auth0.com/blog/amp/complete-guide-to-nodejs-express-user-authentication/"><link rel="manifest" href="https://auth0.com/blog/manifest.json"><link type="application/atom+xml" rel="alternate" href="https://auth0.com/blog/rss.xml" title="Auth0 Blog"><link type="application/opensearchdescription+xml" rel="search" href="https://auth0.com/blog/osd.xml"><script>"use strict";
window.onload = function() {
  if(typeof metricsLib !== 'undefined') metricsLib.track('drift-bot:script-included');
};
!function() {
  var t = window.driftt = window.drift = window.driftt || [];
  if (!t.init) {
    if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
    t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
    t.factory = function(e) {
      return function() {
        var n = Array.prototype.slice.call(arguments);
        return n.unshift(e), t.push(n), t;
      };
    }, t.methods.forEach(function(e) {
      t[e] = t.factory(e);
    }), t.load = function(t) {
      var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
      o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
      var i = document.getElementsByTagName("script")[0];
      i.parentNode.insertBefore(o, i);
    };
  }
}();
drift.SNIPPET_VERSION = '0.3.1';
drift.load('yzp33pb7addg');
</script><meta name="next-head-count" content="32"><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./The Complete Guide to Node.js User Authentication with Auth0_files/polyfills-5cd94c89d3acac5f.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/webpack-a782c72818c7ffe2.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/framework-d3b6a5186d0a11ae.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/main-c16094a955a57664.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/_app-459344467bf45e74.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/4811-8c18a25694512d39.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/86-06286fbbb5daed49.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/5475-5073a15b14d52cf2.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/150-b786e6f24bc6df5f.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/4414-219965fcc284e40a.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/[slug]-3929f60bdf902d4a.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/_buildManifest.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/_ssgManifest.js" defer=""></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/_middlewareManifest.js" defer=""></script><style data-styled="active" data-styled-version="5.2.1"></style><script type="text/javascript" async="" src="./The Complete Guide to Node.js User Authentication with Auth0_files/embed.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/location" async="" type="text/javascript"></script><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/blog-0990e1fa49e73292.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/9117-7ad8fe201376a0b8.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/developers-7a527d6b85ffa6de.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/identity-and-security-323314e2439a03e7.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/business-50340a77064e5d51.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/leadership-92218fdf2c009bb4.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/culture-d65db5a6b85cbaac.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/engineering-59c86ac863cfcece.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/announcements-cd705de704517cf9.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/8561-9d18481920a2c546.js"><link as="script" rel="prefetch" href="./The Complete Guide to Node.js User Authentication with Auth0_files/[author]-2315442a384a8563.js"><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/otBannerSdk.js" async="" type="text/javascript"></script><style id="onetrust-style">#onetrust-banner-sdk{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}#onetrust-banner-sdk .onetrust-vendors-list-handler{cursor:pointer;color:#1f96db;font-size:inherit;font-weight:bold;text-decoration:none;margin-left:5px}#onetrust-banner-sdk .onetrust-vendors-list-handler:hover{color:#1f96db}#onetrust-banner-sdk:focus{outline:2px solid #000;outline-offset:-2px}#onetrust-banner-sdk a:focus{outline:2px solid #000}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{outline-offset:1px}#onetrust-banner-sdk .ot-close-icon,#onetrust-pc-sdk .ot-close-icon,#ot-sync-ntfy .ot-close-icon{background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzQ4LjMzM3B4IiBoZWlnaHQ9IjM0OC4zMzNweCIgdmlld0JveD0iMCAwIDM0OC4zMzMgMzQ4LjMzNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzQ4LjMzMyAzNDguMzM0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZmlsbD0iIzU2NTY1NiIgZD0iTTMzNi41NTksNjguNjExTDIzMS4wMTYsMTc0LjE2NWwxMDUuNTQzLDEwNS41NDljMTUuNjk5LDE1LjcwNSwxNS42OTksNDEuMTQ1LDAsNTYuODVjLTcuODQ0LDcuODQ0LTE4LjEyOCwxMS43NjktMjguNDA3LDExLjc2OWMtMTAuMjk2LDAtMjAuNTgxLTMuOTE5LTI4LjQxOS0xMS43NjlMMTc0LjE2NywyMzEuMDAzTDY4LjYwOSwzMzYuNTYzYy03Ljg0Myw3Ljg0NC0xOC4xMjgsMTEuNzY5LTI4LjQxNiwxMS43NjljLTEwLjI4NSwwLTIwLjU2My0zLjkxOS0yOC40MTMtMTEuNzY5Yy0xNS42OTktMTUuNjk4LTE1LjY5OS00MS4xMzksMC01Ni44NWwxMDUuNTQtMTA1LjU0OUwxMS43NzQsNjguNjExYy0xNS42OTktMTUuNjk5LTE1LjY5OS00MS4xNDUsMC01Ni44NDRjMTUuNjk2LTE1LjY4Nyw0MS4xMjctMTUuNjg3LDU2LjgyOSwwbDEwNS41NjMsMTA1LjU1NEwyNzkuNzIxLDExLjc2N2MxNS43MDUtMTUuNjg3LDQxLjEzOS0xNS42ODcsNTYuODMyLDBDMzUyLjI1OCwyNy40NjYsMzUyLjI1OCw1Mi45MTIsMzM2LjU1OSw2OC42MTF6Ii8+PC9nPjwvc3ZnPg==");background-size:contain;background-repeat:no-repeat;background-position:center;height:12px;width:12px}#onetrust-banner-sdk .powered-by-logo,#onetrust-banner-sdk .ot-pc-footer-logo a,#onetrust-pc-sdk .powered-by-logo,#onetrust-pc-sdk .ot-pc-footer-logo a,#ot-sync-ntfy .powered-by-logo,#ot-sync-ntfy .ot-pc-footer-logo a{background-size:contain;background-repeat:no-repeat;background-position:center;height:25px;width:152px;display:block}#onetrust-banner-sdk h3 *,#onetrust-banner-sdk h4 *,#onetrust-banner-sdk h6 *,#onetrust-banner-sdk button *,#onetrust-banner-sdk a[data-parent-id] *,#onetrust-pc-sdk h3 *,#onetrust-pc-sdk h4 *,#onetrust-pc-sdk h6 *,#onetrust-pc-sdk button *,#onetrust-pc-sdk a[data-parent-id] *,#ot-sync-ntfy h3 *,#ot-sync-ntfy h4 *,#ot-sync-ntfy h6 *,#ot-sync-ntfy button *,#ot-sync-ntfy a[data-parent-id] *{font-size:inherit;font-weight:inherit;color:inherit}#onetrust-banner-sdk .ot-hide,#onetrust-pc-sdk .ot-hide,#ot-sync-ntfy .ot-hide{display:none !important}#onetrust-pc-sdk .ot-sdk-row .ot-sdk-column{padding:0}#onetrust-pc-sdk .ot-sdk-container{padding-right:0}#onetrust-pc-sdk .ot-sdk-row{flex-direction:initial;width:100%}#onetrust-pc-sdk [type="checkbox"]:checked,#onetrust-pc-sdk [type="checkbox"]:not(:checked){pointer-events:initial}#onetrust-pc-sdk [type="checkbox"]:disabled+label::before,#onetrust-pc-sdk [type="checkbox"]:disabled+label:after,#onetrust-pc-sdk [type="checkbox"]:disabled+label{pointer-events:none;opacity:0.7}#onetrust-pc-sdk #vendor-list-content{transform:translate3d(0, 0, 0)}#onetrust-pc-sdk li input[type="checkbox"]{z-index:1}#onetrust-pc-sdk li .ot-checkbox label{z-index:2}#onetrust-pc-sdk li .ot-checkbox input[type="checkbox"]{height:auto;width:auto}#onetrust-pc-sdk li .host-title a,#onetrust-pc-sdk li .ot-host-name a,#onetrust-pc-sdk li .accordion-text,#onetrust-pc-sdk li .ot-acc-txt{z-index:2;position:relative}#onetrust-pc-sdk input{margin:3px 0.1ex}#onetrust-pc-sdk .pc-logo,#onetrust-pc-sdk .ot-pc-logo{height:60px;width:180px;background-position:center;background-size:contain;background-repeat:no-repeat}#onetrust-pc-sdk .screen-reader-only,#onetrust-pc-sdk .ot-scrn-rdr,.ot-sdk-cookie-policy .screen-reader-only,.ot-sdk-cookie-policy .ot-scrn-rdr{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}#onetrust-pc-sdk.ot-fade-in,.onetrust-pc-dark-filter.ot-fade-in,#onetrust-banner-sdk.ot-fade-in{animation-name:onetrust-fade-in;animation-duration:400ms;animation-timing-function:ease-in-out}#onetrust-pc-sdk.ot-hide{display:none !important}.onetrust-pc-dark-filter.ot-hide{display:none !important}#ot-sdk-btn.ot-sdk-show-settings,#ot-sdk-btn.optanon-show-settings{color:#68b631;border:1px solid #68b631;height:auto;white-space:normal;word-wrap:break-word;padding:0.8em 2em;font-size:0.8em;line-height:1.2;cursor:pointer;-moz-transition:0.1s ease;-o-transition:0.1s ease;-webkit-transition:1s ease;transition:0.1s ease}#ot-sdk-btn.ot-sdk-show-settings:hover,#ot-sdk-btn.optanon-show-settings:hover{color:#fff;background-color:#68b631}.onetrust-pc-dark-filter{background:rgba(0,0,0,0.5);z-index:2147483646;width:100%;height:100%;overflow:hidden;position:fixed;top:0;bottom:0;left:0}@keyframes onetrust-fade-in{0%{opacity:0}100%{opacity:1}}.ot-cookie-label{text-decoration:underline}@media only screen and (min-width: 426px) and (max-width: 896px) and (orientation: landscape){#onetrust-pc-sdk p{font-size:0.75em}}#onetrust-banner-sdk .banner-option-input:focus+label{outline:1px solid #000;outline-style:auto}.category-vendors-list-handler+a:focus,.category-vendors-list-handler+a:focus-visible{outline:2px solid #000}
#onetrust-banner-sdk,#onetrust-pc-sdk,#ot-sdk-cookie-policy,#ot-sync-ntfy{font-size:16px}#onetrust-banner-sdk *,#onetrust-banner-sdk ::after,#onetrust-banner-sdk ::before,#onetrust-pc-sdk *,#onetrust-pc-sdk ::after,#onetrust-pc-sdk ::before,#ot-sdk-cookie-policy *,#ot-sdk-cookie-policy ::after,#ot-sdk-cookie-policy ::before,#ot-sync-ntfy *,#ot-sync-ntfy ::after,#ot-sync-ntfy ::before{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}#onetrust-banner-sdk div,#onetrust-banner-sdk span,#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-banner-sdk p,#onetrust-banner-sdk img,#onetrust-banner-sdk svg,#onetrust-banner-sdk button,#onetrust-banner-sdk section,#onetrust-banner-sdk a,#onetrust-banner-sdk label,#onetrust-banner-sdk input,#onetrust-banner-sdk ul,#onetrust-banner-sdk li,#onetrust-banner-sdk nav,#onetrust-banner-sdk table,#onetrust-banner-sdk thead,#onetrust-banner-sdk tr,#onetrust-banner-sdk td,#onetrust-banner-sdk tbody,#onetrust-banner-sdk .ot-main-content,#onetrust-banner-sdk .ot-toggle,#onetrust-banner-sdk #ot-content,#onetrust-banner-sdk #ot-pc-content,#onetrust-banner-sdk .checkbox,#onetrust-pc-sdk div,#onetrust-pc-sdk span,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#onetrust-pc-sdk p,#onetrust-pc-sdk img,#onetrust-pc-sdk svg,#onetrust-pc-sdk button,#onetrust-pc-sdk section,#onetrust-pc-sdk a,#onetrust-pc-sdk label,#onetrust-pc-sdk input,#onetrust-pc-sdk ul,#onetrust-pc-sdk li,#onetrust-pc-sdk nav,#onetrust-pc-sdk table,#onetrust-pc-sdk thead,#onetrust-pc-sdk tr,#onetrust-pc-sdk td,#onetrust-pc-sdk tbody,#onetrust-pc-sdk .ot-main-content,#onetrust-pc-sdk .ot-toggle,#onetrust-pc-sdk #ot-content,#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk .checkbox,#ot-sdk-cookie-policy div,#ot-sdk-cookie-policy span,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy p,#ot-sdk-cookie-policy img,#ot-sdk-cookie-policy svg,#ot-sdk-cookie-policy button,#ot-sdk-cookie-policy section,#ot-sdk-cookie-policy a,#ot-sdk-cookie-policy label,#ot-sdk-cookie-policy input,#ot-sdk-cookie-policy ul,#ot-sdk-cookie-policy li,#ot-sdk-cookie-policy nav,#ot-sdk-cookie-policy table,#ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy tr,#ot-sdk-cookie-policy td,#ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy .ot-main-content,#ot-sdk-cookie-policy .ot-toggle,#ot-sdk-cookie-policy #ot-content,#ot-sdk-cookie-policy #ot-pc-content,#ot-sdk-cookie-policy .checkbox,#ot-sync-ntfy div,#ot-sync-ntfy span,#ot-sync-ntfy h1,#ot-sync-ntfy h2,#ot-sync-ntfy h3,#ot-sync-ntfy h4,#ot-sync-ntfy h5,#ot-sync-ntfy h6,#ot-sync-ntfy p,#ot-sync-ntfy img,#ot-sync-ntfy svg,#ot-sync-ntfy button,#ot-sync-ntfy section,#ot-sync-ntfy a,#ot-sync-ntfy label,#ot-sync-ntfy input,#ot-sync-ntfy ul,#ot-sync-ntfy li,#ot-sync-ntfy nav,#ot-sync-ntfy table,#ot-sync-ntfy thead,#ot-sync-ntfy tr,#ot-sync-ntfy td,#ot-sync-ntfy tbody,#ot-sync-ntfy .ot-main-content,#ot-sync-ntfy .ot-toggle,#ot-sync-ntfy #ot-content,#ot-sync-ntfy #ot-pc-content,#ot-sync-ntfy .checkbox{font-family:inherit;font-weight:normal;-webkit-font-smoothing:auto;letter-spacing:normal;line-height:normal;padding:0;margin:0;height:auto;min-height:0;max-height:none;width:auto;min-width:0;max-width:none;border-radius:0;border:none;clear:none;float:none;position:static;bottom:auto;left:auto;right:auto;top:auto;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;white-space:normal;background:none;overflow:visible;vertical-align:baseline;visibility:visible;z-index:auto;box-shadow:none}#onetrust-banner-sdk label:before,#onetrust-banner-sdk label:after,#onetrust-banner-sdk .checkbox:after,#onetrust-banner-sdk .checkbox:before,#onetrust-pc-sdk label:before,#onetrust-pc-sdk label:after,#onetrust-pc-sdk .checkbox:after,#onetrust-pc-sdk .checkbox:before,#ot-sdk-cookie-policy label:before,#ot-sdk-cookie-policy label:after,#ot-sdk-cookie-policy .checkbox:after,#ot-sdk-cookie-policy .checkbox:before,#ot-sync-ntfy label:before,#ot-sync-ntfy label:after,#ot-sync-ntfy .checkbox:after,#ot-sync-ntfy .checkbox:before{content:"";content:none}
#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{position:relative;width:100%;max-width:100%;margin:0 auto;padding:0 20px;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{width:100%;float:left;box-sizing:border-box;padding:0;display:initial}@media (min-width: 400px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:90%;padding:0}}@media (min-width: 550px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:100%}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{margin-left:4%}#onetrust-banner-sdk .ot-sdk-column:first-child,#onetrust-banner-sdk .ot-sdk-columns:first-child,#onetrust-pc-sdk .ot-sdk-column:first-child,#onetrust-pc-sdk .ot-sdk-columns:first-child,#ot-sdk-cookie-policy .ot-sdk-column:first-child,#ot-sdk-cookie-policy .ot-sdk-columns:first-child{margin-left:0}#onetrust-banner-sdk .ot-sdk-two.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-two.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-two.ot-sdk-columns{width:13.3333333333%}#onetrust-banner-sdk .ot-sdk-three.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-three.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-three.ot-sdk-columns{width:22%}#onetrust-banner-sdk .ot-sdk-four.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-four.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-four.ot-sdk-columns{width:30.6666666667%}#onetrust-banner-sdk .ot-sdk-eight.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eight.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eight.ot-sdk-columns{width:65.3333333333%}#onetrust-banner-sdk .ot-sdk-nine.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-nine.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-nine.ot-sdk-columns{width:74%}#onetrust-banner-sdk .ot-sdk-ten.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-ten.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-ten.ot-sdk-columns{width:82.6666666667%}#onetrust-banner-sdk .ot-sdk-eleven.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eleven.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eleven.ot-sdk-columns{width:91.3333333333%}#onetrust-banner-sdk .ot-sdk-twelve.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-twelve.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-twelve.ot-sdk-columns{width:100%;margin-left:0}}#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6{margin-top:0;font-weight:600;font-family:inherit}#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem;line-height:1.2}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem;line-height:1.25}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem;line-height:1.3}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem;line-height:1.35}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem;line-height:1.5}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem;line-height:1.6}@media (min-width: 550px){#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem}}#onetrust-banner-sdk p,#onetrust-pc-sdk p,#ot-sdk-cookie-policy p{margin:0 0 1em 0;font-family:inherit;line-height:normal}#onetrust-banner-sdk a,#onetrust-pc-sdk a,#ot-sdk-cookie-policy a{color:#565656;text-decoration:underline}#onetrust-banner-sdk a:hover,#onetrust-pc-sdk a:hover,#ot-sdk-cookie-policy a:hover{color:#565656;text-decoration:none}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:0.9em;font-weight:400;line-height:38px;letter-spacing:0.01em;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:2px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-button:hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:focus,#onetrust-pc-sdk .ot-sdk-button:hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:focus,#ot-sdk-cookie-policy .ot-sdk-button:hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:focus{color:#333;border-color:#888;opacity:0.7}#onetrust-banner-sdk .ot-sdk-button:focus,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:focus,#onetrust-pc-sdk .ot-sdk-button:focus,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:focus,#ot-sdk-cookie-policy .ot-sdk-button:focus,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:focus{outline:2px solid #000}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-banner-sdk button.ot-sdk-button-primary,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-pc-sdk button.ot-sdk-button-primary,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary,#ot-sdk-cookie-policy button.ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-banner-sdk button.ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary:hover,#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-banner-sdk button.ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary:focus,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-pc-sdk button.ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary:hover,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-pc-sdk button.ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}#onetrust-banner-sdk input[type="text"],#onetrust-pc-sdk input[type="text"],#ot-sdk-cookie-policy input[type="text"]{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}#onetrust-banner-sdk input[type="text"],#onetrust-pc-sdk input[type="text"],#ot-sdk-cookie-policy input[type="text"]{-webkit-appearance:none;-moz-appearance:none;appearance:none}#onetrust-banner-sdk input[type="text"]:focus,#onetrust-pc-sdk input[type="text"]:focus,#ot-sdk-cookie-policy input[type="text"]:focus{border:1px solid #000;outline:0}#onetrust-banner-sdk label,#onetrust-pc-sdk label,#ot-sdk-cookie-policy label{display:block;margin-bottom:0.5rem;font-weight:600}#onetrust-banner-sdk input[type="checkbox"],#onetrust-pc-sdk input[type="checkbox"],#ot-sdk-cookie-policy input[type="checkbox"]{display:inline}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{list-style:circle inside}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{padding-left:0;margin-top:0}#onetrust-banner-sdk ul ul,#onetrust-pc-sdk ul ul,#ot-sdk-cookie-policy ul ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}#onetrust-banner-sdk li,#onetrust-pc-sdk li,#ot-sdk-cookie-policy li{margin-bottom:1rem}#onetrust-banner-sdk th,#onetrust-banner-sdk td,#onetrust-pc-sdk th,#onetrust-pc-sdk td,#ot-sdk-cookie-policy th,#ot-sdk-cookie-policy td{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}#onetrust-banner-sdk button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-container:after,#onetrust-banner-sdk .ot-sdk-row:after,#onetrust-pc-sdk .ot-sdk-container:after,#onetrust-pc-sdk .ot-sdk-row:after,#ot-sdk-cookie-policy .ot-sdk-container:after,#ot-sdk-cookie-policy .ot-sdk-row:after{content:"";display:table;clear:both}#onetrust-banner-sdk .ot-sdk-row,#onetrust-pc-sdk .ot-sdk-row,#ot-sdk-cookie-policy .ot-sdk-row{margin:0;max-width:none;display:block}
#onetrust-banner-sdk{box-shadow:0 0 18px rgba(0,0,0,.2)}#onetrust-banner-sdk.otCenterRounded{z-index:2147483645;top:10%;position:fixed;right:0;background-color:#fff;width:60%;max-width:650px;border-radius:2.5px;left:1em;margin:0 auto;font-size:14px;max-height:90%;overflow-x:hidden;overflow-y:auto}#onetrust-banner-sdk.otRelFont{font-size:.875rem}#onetrust-banner-sdk::-webkit-scrollbar{width:11px}#onetrust-banner-sdk::-webkit-scrollbar-thumb{border-radius:10px;background:#c1c1c1}#onetrust-banner-sdk{scrollbar-arrow-color:#c1c1c1;scrollbar-darkshadow-color:#c1c1c1;scrollbar-face-color:#c1c1c1;scrollbar-shadow-color:#c1c1c1}#onetrust-banner-sdk h3,#onetrust-banner-sdk p{color:dimgray}#onetrust-banner-sdk #onetrust-policy{margin-top:20px}#onetrust-banner-sdk #onetrust-policy-title{float:left;text-align:left;font-size:1em;line-height:1.4;margin-bottom:0;padding:0 0 10px 30px;width:calc(100% - 90px)}#onetrust-banner-sdk #onetrust-policy-text,#onetrust-banner-sdk .ot-b-addl-desc,#onetrust-banner-sdk .ot-gv-list-handler{clear:both;float:left;margin:0 30px 10px 30px;font-size:.813em;line-height:1.5}#onetrust-banner-sdk #onetrust-policy-text *,#onetrust-banner-sdk .ot-b-addl-desc *,#onetrust-banner-sdk .ot-gv-list-handler *{line-height:inherit;font-size:inherit;margin:0}#onetrust-banner-sdk .ot-gv-list-handler{padding:0;border:0;height:auto;width:auto}#onetrust-banner-sdk .ot-b-addl-desc{display:block}#onetrust-banner-sdk #onetrust-button-group-parent{padding:15px 30px;text-align:center}#onetrust-banner-sdk #onetrust-button-group-parent:not(.has-reject-all-button) #onetrust-button-group{text-align:right}#onetrust-banner-sdk #onetrust-button-group{text-align:center;display:inline-block;width:100%}#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{margin-right:1em}#onetrust-banner-sdk #onetrust-pc-btn-handler{border:1px solid #6cc04a;max-width:45%}#onetrust-banner-sdk .banner-actions-container{float:right;width:50%}#onetrust-banner-sdk #onetrust-pc-btn-handler.cookie-setting-link{background-color:#fff;border:none;color:#6cc04a;text-decoration:underline;padding-left:0;padding-right:0}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{background-color:#6cc04a;color:#fff;border-color:#6cc04a;min-width:135px;padding:12px 10px;letter-spacing:.05em;line-height:1.4;font-size:.813em;font-weight:600;height:auto;white-space:normal;word-break:break-word;word-wrap:break-word}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler{float:left;max-width:calc(40% - 18px)}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler.cookie-setting-link{text-align:left;margin-right:0}#onetrust-banner-sdk .has-reject-all-button .banner-actions-container{max-width:60%;width:auto}#onetrust-banner-sdk .ot-close-icon{width:44px;height:44px;background-size:12px;margin:-18px -18px 0 0;border:none;display:inline-block;padding:0}#onetrust-banner-sdk #onetrust-close-btn-container{position:absolute;right:24px;top:24px}#onetrust-banner-sdk .banner_logo{display:none}#onetrust-banner-sdk #banner-options{float:left;padding:0 30px;width:calc(100% - 90px)}#onetrust-banner-sdk .banner-option{margin-bottom:10px}#onetrust-banner-sdk .banner-option-input{cursor:pointer;width:auto;height:auto;border:none;padding:0;padding-right:3px;margin:0 0 6px;font-size:.82em;line-height:1.4}#onetrust-banner-sdk .banner-option-input *{pointer-events:none;font-size:inherit;line-height:inherit}#onetrust-banner-sdk .banner-option-input[aria-expanded=true] .ot-arrow-container{transform:rotate(90deg)}#onetrust-banner-sdk .banner-option-input[aria-expanded=true]~.banner-option-details{height:auto;display:block}#onetrust-banner-sdk .banner-option-header{cursor:pointer;display:inline-block}#onetrust-banner-sdk .banner-option-header :first-child{color:dimgray;font-weight:bold;float:left}#onetrust-banner-sdk .ot-arrow-container,#onetrust-banner-sdk .banner-option-details{transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-banner-sdk .ot-arrow-container{display:inline-block;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:6px solid dimgray;margin-left:10px;vertical-align:middle}#onetrust-banner-sdk .banner-option-details{display:none;font-size:.83em;line-height:1.5;height:0px;padding:10px 10px 5px 10px}#onetrust-banner-sdk .banner-option-details *{font-size:inherit;line-height:inherit;color:dimgray}#onetrust-banner-sdk .ot-dpd-container{float:left;margin:0 30px 10px 30px}#onetrust-banner-sdk .ot-dpd-title{font-weight:bold;padding-bottom:10px}#onetrust-banner-sdk .ot-dpd-title{font-size:1em;line-height:1.4}#onetrust-banner-sdk .ot-dpd-desc{font-size:.813em;line-height:1.5;margin-bottom:0}#onetrust-banner-sdk .ot-dpd-desc *{margin:0}#onetrust-banner-sdk .onetrust-vendors-list-handler{display:block;margin-left:0px;margin-top:5px;padding:0;margin-bottom:0;border:0;line-height:normal;height:auto;width:auto}#onetrust-banner-sdk :not(.ot-dpd-desc)>.ot-b-addl-desc{float:left;margin:0 30px 10px 30px}#onetrust-banner-sdk .ot-dpd-desc>.ot-b-addl-desc{margin-top:10px;margin-bottom:10px;font-size:1em;line-height:1.5;float:none}#onetrust-banner-sdk #onetrust-policy-text a{font-weight:bold;margin-left:5px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container{top:15px;transform:none;right:15px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container button{padding:0;white-space:pre-wrap;border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.75em}#onetrust-banner-sdk.ot-close-btn-link.ot-wo-title #onetrust-group-container{margin-top:20px}@media only screen and (max-width: 425px){#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{width:100%;margin-bottom:10px}#onetrust-banner-sdk #onetrust-pc-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler{margin-right:0}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler.cookie-setting-link{text-align:center}#onetrust-banner-sdk .banner-actions-container,#onetrust-banner-sdk #onetrust-pc-btn-handler{width:100%;max-width:none}#onetrust-banner-sdk.otCenterRounded{left:0;width:95%;top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%)}}@media only screen and (max-width: 600px){#onetrust-banner-sdk .ot-sdk-container{width:auto;padding:0}#onetrust-banner-sdk #onetrust-policy-title{padding:0 22px 10px 22px}#onetrust-banner-sdk #onetrust-policy-text,#onetrust-banner-sdk :not(.ot-dpd-desc)>.ot-b-addl-desc,#onetrust-banner-sdk .ot-dpd-container{margin:0 22px 10px 22px;width:calc(100% - 44px)}#onetrust-banner-sdk #onetrust-button-group-parent{padding:15px 22px}#onetrust-banner-sdk #banner-options{padding:0 22px;width:calc(100% - 44px)}#onetrust-banner-sdk .banner-option{margin-bottom:6px}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler{float:none;max-width:100%}#onetrust-banner-sdk .has-reject-all-button .banner-actions-container{width:100%;text-align:center;max-width:100%}#onetrust-banner-sdk.ot-close-btn-link #onetrust-group-container{margin-top:20px}}@media only screen and (min-width: 426px)and (max-width: 896px){#onetrust-banner-sdk.otCenterRounded{left:0;top:15%;transform:translateY(-13%);-webkit-transform:translateY(-13%);max-width:600px;width:95%}}
        #onetrust-consent-sdk #onetrust-banner-sdk {background-color: #FFFFFF;}
            #onetrust-consent-sdk #onetrust-policy-title,
                    #onetrust-consent-sdk #onetrust-policy-text,
                    #onetrust-consent-sdk .ot-b-addl-desc,
                    #onetrust-consent-sdk .ot-dpd-desc,
                    #onetrust-consent-sdk .ot-dpd-title,
                    #onetrust-consent-sdk #onetrust-policy-text *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk .ot-dpd-desc *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk #onetrust-banner-sdk #banner-options *,
                    #onetrust-banner-sdk .ot-cat-header {
                        color: #2b2e33;
                    }
            #onetrust-consent-sdk #onetrust-banner-sdk .banner-option-details {
                    background-color: #E9E9E9;}
             #onetrust-consent-sdk #onetrust-banner-sdk a[href],
                    #onetrust-consent-sdk #onetrust-banner-sdk a[href] font,
                    #onetrust-consent-sdk #onetrust-banner-sdk .ot-link-btn
                        {
                            color: #635dff;
                        }#onetrust-consent-sdk #onetrust-accept-btn-handler,
                         #onetrust-banner-sdk #onetrust-reject-all-handler {
                            background-color: #635dff;border-color: #635dff;
                            color: #FFFFFF;
                        }
            #onetrust-consent-sdk #onetrust-pc-btn-handler,
            #onetrust-consent-sdk #onetrust-pc-btn-handler.cookie-setting-link {
                color: #635dff; border-color: #635dff;
                background-color: 
                #FFFFFF;
            }#onetrust-consent-sdk #onetrust-banner-sdk {
  border-radius: 32px;
}

#onetrust-consent-sdk #onetrust-banner-sdk:focus, #onetrust-consent-sdk #onetrust-accept-btn-handler:focus, #onetrust-banner-sdk #onetrust-reject-all-handler:focus, #onetrust-consent-sdk #onetrust-pc-btn-handler:focus{
  outline: none!important;
}

#onetrust-banner-sdk * {
  font-family: Inter, sans-serif!important;
}

#onetrust-banner-sdk .banner-content {
  max-height: 100%;
}

#onetrust-banner-sdk #onetrust-policy {
  margin-top: 40px;
}

#onetrust-banner-sdk h3#onetrust-policy-title {
  font-weight: 400;
  font-size: 20px;
  line-height: 28px;
  letter-spacing: -0.1px;
  color: #41444B;
  margin-bottom: 16px;
  padding: 0 0 0 40px;
}

#onetrust-banner-sdk #onetrust-policy-text {
  font-size: 16px;
  line-height: 24px;
  letter-spacing: -0.01px;
  color: #2B2E33;
  margin: 0 40px 40px 40px;
}

#onetrust-banner-sdk #onetrust-policy-text a {
  font-size: 16px;
  line-height: 24px;
  letter-spacing: -0.01px;
  color: #635DFF;
  margin: 0;
}

#onetrust-banner-sdk #onetrust-policy-text a:hover {
  color: #564ed1!important;
  opacity: 1;
}

#onetrust-banner-sdk #onetrust-button-group-parent {
  padding: 40px;
  border-top: 1px solid #E9ECF3;
}

#onetrust-banner-sdk .banner-actions-container {
  float: left!important;
}

#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler {
  float: right!important;
  font-weight: 400;
  font-size: 16px;
  line-height: 24px;
  text-decoration: none; 
  letter-spacing: -0.01px;
  margin-bottom: 0;
}

#onetrust-consent-sdk #onetrust-accept-btn-handler, #onetrust-banner-sdk #onetrust-reject-all-handler{
  border-radius: 8px!important;
  font-weight: 400;
  font-size: 16px;
  line-height: 32px;
  letter-spacing: 0;
  padding: 7px 24px;
  min-width: auto;
}

#onetrust-banner-sdk #onetrust-reject-all-handler {
  background: white;
  color: #2B2E33;
  border: 1px solid #5A5F66;
  margin-bottom: 0;
}

#onetrust-banner-sdk #onetrust-reject-all-handler:hover {
  border: 1px solid #000;
  background: white;
  opacity: 1;
}

#onetrust-consent-sdk #onetrust-accept-btn-handler:hover {
  background: #564ed1!important;
  opacity: 1;
}

#onetrust-consent-sdk #onetrust-pc-btn-handler:hover {
  color: #564ed1!important;
  opacity: 1;
}

#onetrust-banner-sdk .has-reject-all-button .banner-actions-container {
  display: flex;
  column-gap: 16px;
  flex-flow: row-reverse;
}

#onetrust-banner-sdk .has-reject-all-button .banner-actions-container button + button {
  margin-bottom: 0;
}

@media only screen and (max-width: 750px) {
  #onetrust-banner-sdk #onetrust-policy {
    margin-top: 24px;
  }

  #onetrust-consent-sdk #onetrust-banner-sdk{
    border-radius: 24px;
  }

  #onetrust-banner-sdk #onetrust-button-group-parent {
    padding: 16px;
  }

  #onetrust-banner-sdk .has-reject-all-button .banner-actions-container {
    flex-flow: column-reverse;
  }

  #onetrust-banner-sdk .has-reject-all-button .banner-actions-container button + button {
    margin-bottom: 12px;
  }
  

  #onetrust-banner-sdk h3#onetrust-policy-title {
    font-size: 18px;
    padding: 0 0 0 24px;
  }

  #onetrust-banner-sdk #onetrust-policy-text {
    font-size: 14px;
    line-height: 22px;
    margin: 0 24px 16px 24px;
  }

  #onetrust-banner-sdk #onetrust-policy-text a {
    font-size: 14px;
    line-height: 22px;
  }
}#onetrust-pc-sdk.otPcCenter{overflow:hidden;position:fixed;margin:0 auto;top:5%;right:0;left:0;width:40%;max-width:575px;min-width:575px;border-radius:2.5px;z-index:2147483647;background-color:#fff;-webkit-box-shadow:0px 2px 10px -3px #999;-moz-box-shadow:0px 2px 10px -3px #999;box-shadow:0px 2px 10px -3px #999}#onetrust-pc-sdk.otPcCenter[dir=rtl]{right:0;left:0}#onetrust-pc-sdk.otRelFont{font-size:1rem}#onetrust-pc-sdk #ot-addtl-venlst .ot-arw-cntr,#onetrust-pc-sdk #ot-addtl-venlst .ot-plus-minus,#onetrust-pc-sdk .ot-hide-tgl{visibility:hidden}#onetrust-pc-sdk #ot-addtl-venlst .ot-arw-cntr *,#onetrust-pc-sdk #ot-addtl-venlst .ot-plus-minus *,#onetrust-pc-sdk .ot-hide-tgl *{visibility:hidden}#onetrust-pc-sdk #ot-gn-venlst .ot-ven-item .ot-acc-hdr{min-height:40px}#onetrust-pc-sdk .ot-pc-header{height:39px;padding:10px 0 10px 30px;border-bottom:1px solid #e9e9e9}#onetrust-pc-sdk #ot-pc-title,#onetrust-pc-sdk #ot-category-title,#onetrust-pc-sdk .ot-cat-header,#onetrust-pc-sdk #ot-lst-title,#onetrust-pc-sdk .ot-ven-hdr .ot-ven-name,#onetrust-pc-sdk .ot-always-active{font-weight:bold;color:dimgray}#onetrust-pc-sdk .ot-cat-header{float:left;font-weight:600;font-size:.875em;line-height:1.5;max-width:90%;vertical-align:middle}#onetrust-pc-sdk .ot-always-active-group .ot-cat-header{width:55%;font-weight:700}#onetrust-pc-sdk .ot-cat-item p{clear:both;float:left;margin-top:10px;margin-bottom:5px;line-height:1.5;font-size:.812em;color:dimgray}#onetrust-pc-sdk .ot-close-icon{height:44px;width:44px;background-size:10px}#onetrust-pc-sdk #ot-pc-title{float:left;font-size:1em;line-height:1.5;margin-bottom:10px;margin-top:10px;width:100%}#onetrust-pc-sdk #accept-recommended-btn-handler{margin-right:10px;margin-bottom:25px;outline-offset:-1px}#onetrust-pc-sdk #ot-pc-desc{clear:both;width:100%;font-size:.812em;line-height:1.5;margin-bottom:25px}#onetrust-pc-sdk #ot-pc-desc a{margin-left:5px}#onetrust-pc-sdk #ot-pc-desc *{font-size:inherit;line-height:inherit}#onetrust-pc-sdk #ot-pc-desc ul li{padding:10px 0px}#onetrust-pc-sdk a{color:#656565;cursor:pointer}#onetrust-pc-sdk a:hover{color:#3860be}#onetrust-pc-sdk label{margin-bottom:0}#onetrust-pc-sdk #vdr-lst-dsc{font-size:.812em;line-height:1.5;padding:10px 15px 5px 15px}#onetrust-pc-sdk button{max-width:394px;padding:12px 30px;line-height:1;word-break:break-word;word-wrap:break-word;white-space:normal;font-weight:bold;height:auto}#onetrust-pc-sdk .ot-link-btn{padding:0;margin-bottom:0;border:0;font-weight:normal;line-height:normal;width:auto;height:auto}#onetrust-pc-sdk #ot-pc-content{position:absolute;overflow-y:scroll;padding-left:0px;padding-right:30px;top:60px;bottom:110px;margin:1px 3px 0 30px;width:calc(100% - 63px)}#onetrust-pc-sdk .ot-cat-grp .ot-always-active{float:right;clear:none;color:#3860be;margin:0;font-size:.813em;line-height:1.3}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar-track{margin-right:20px}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar{width:11px}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar-thumb{border-radius:10px;background:#d8d8d8}#onetrust-pc-sdk input[type=checkbox]:focus+.ot-acc-hdr{outline:#000 1px solid}#onetrust-pc-sdk .ot-pc-scrollbar{scrollbar-arrow-color:#d8d8d8;scrollbar-darkshadow-color:#d8d8d8;scrollbar-face-color:#d8d8d8;scrollbar-shadow-color:#d8d8d8}#onetrust-pc-sdk .save-preference-btn-handler{margin-right:20px}#onetrust-pc-sdk .ot-pc-refuse-all-handler{margin-right:10px}#onetrust-pc-sdk #ot-pc-desc .privacy-notice-link{margin-left:0}#onetrust-pc-sdk .ot-subgrp-cntr{display:inline-block;clear:both;width:100%;padding-top:15px}#onetrust-pc-sdk .ot-switch+.ot-subgrp-cntr{padding-top:10px}#onetrust-pc-sdk ul.ot-subgrps{margin:0;font-size:initial}#onetrust-pc-sdk ul.ot-subgrps li p,#onetrust-pc-sdk ul.ot-subgrps li h5{font-size:.813em;line-height:1.4;color:dimgray}#onetrust-pc-sdk ul.ot-subgrps .ot-switch{min-height:auto}#onetrust-pc-sdk ul.ot-subgrps .ot-switch-nob{top:0}#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr{display:inline-block;width:100%}#onetrust-pc-sdk ul.ot-subgrps .ot-acc-txt{margin:0}#onetrust-pc-sdk ul.ot-subgrps li{padding:0;border:none}#onetrust-pc-sdk ul.ot-subgrps li h5{position:relative;top:5px;font-weight:bold;margin-bottom:0;float:left}#onetrust-pc-sdk li.ot-subgrp{margin-left:20px;overflow:auto}#onetrust-pc-sdk li.ot-subgrp>h5{width:calc(100% - 100px)}#onetrust-pc-sdk .ot-cat-item p>ul,#onetrust-pc-sdk li.ot-subgrp p>ul{margin:0px;list-style:disc;margin-left:15px;font-size:inherit}#onetrust-pc-sdk .ot-cat-item p>ul li,#onetrust-pc-sdk li.ot-subgrp p>ul li{font-size:inherit;padding-top:10px;padding-left:0px;padding-right:0px;border:none}#onetrust-pc-sdk .ot-cat-item p>ul li:last-child,#onetrust-pc-sdk li.ot-subgrp p>ul li:last-child{padding-bottom:10px}#onetrust-pc-sdk .ot-pc-logo{height:40px;width:120px;display:inline-block}#onetrust-pc-sdk .ot-pc-footer{position:absolute;bottom:0px;width:100%;max-height:160px;border-top:1px solid #d8d8d8}#onetrust-pc-sdk.ot-ftr-stacked .ot-pc-refuse-all-handler{margin-bottom:0px}#onetrust-pc-sdk.ot-ftr-stacked #ot-pc-content{bottom:160px}#onetrust-pc-sdk.ot-ftr-stacked .ot-pc-footer button{width:100%;max-width:none}#onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container{margin:0 30px;width:calc(100% - 60px);padding-right:0}#onetrust-pc-sdk .ot-pc-footer-logo{height:30px;width:100%;text-align:right;background:#f4f4f4}#onetrust-pc-sdk .ot-pc-footer-logo a{display:inline-block;margin-top:5px;margin-right:10px}#onetrust-pc-sdk[dir=rtl] .ot-pc-footer-logo{direction:rtl}#onetrust-pc-sdk[dir=rtl] .ot-pc-footer-logo a{margin-right:25px}#onetrust-pc-sdk .ot-tgl{float:right;position:relative;z-index:1}#onetrust-pc-sdk .ot-tgl input:checked+.ot-switch .ot-switch-nob{background-color:#cddcf2;border:1px solid #3860be}#onetrust-pc-sdk .ot-tgl input:checked+.ot-switch .ot-switch-nob:before{-webkit-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);background-color:#3860be;border-color:#3860be}#onetrust-pc-sdk .ot-tgl input:focus+.ot-switch{outline:#000 solid 1px}#onetrust-pc-sdk .ot-switch{position:relative;display:inline-block;width:45px;height:25px}#onetrust-pc-sdk .ot-switch-nob{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#f2f1f1;border:1px solid #ddd;transition:all .2s ease-in 0s;-moz-transition:all .2s ease-in 0s;-o-transition:all .2s ease-in 0s;-webkit-transition:all .2s ease-in 0s;border-radius:20px}#onetrust-pc-sdk .ot-switch-nob:before{position:absolute;content:"";height:21px;width:21px;bottom:1px;background-color:#7d7d7d;-webkit-transition:.4s;transition:.4s;border-radius:20px}#onetrust-pc-sdk .ot-chkbox input:checked~label::before{background-color:#3860be}#onetrust-pc-sdk .ot-chkbox input+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-chkbox input:checked+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk .ot-chkbox label{position:relative;display:inline-block;padding-left:30px;cursor:pointer;font-weight:500}#onetrust-pc-sdk .ot-chkbox label::before,#onetrust-pc-sdk .ot-chkbox label::after{position:absolute;content:"";display:inline-block;border-radius:3px}#onetrust-pc-sdk .ot-chkbox label::before{height:18px;width:18px;border:1px solid #3860be;left:0px;top:auto}#onetrust-pc-sdk .ot-chkbox label::after{height:5px;width:9px;border-left:3px solid;border-bottom:3px solid;transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);left:4px;top:5px}#onetrust-pc-sdk .ot-label-txt{display:none}#onetrust-pc-sdk .ot-chkbox input,#onetrust-pc-sdk .ot-tgl input{position:absolute;opacity:0;width:0;height:0}#onetrust-pc-sdk .ot-arw-cntr{float:right;position:relative;pointer-events:none}#onetrust-pc-sdk .ot-arw-cntr .ot-arw{width:16px;height:16px;margin-left:5px;color:dimgray;display:inline-block;vertical-align:middle;-webkit-transition:all 150ms ease-in 0s;-moz-transition:all 150ms ease-in 0s;-o-transition:all 150ms ease-in 0s;transition:all 150ms ease-in 0s}#onetrust-pc-sdk input:checked~.ot-acc-hdr .ot-arw,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-arw-cntr svg{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk input[type=checkbox]:focus+.ot-acc-hdr{outline:#000 1px solid}#onetrust-pc-sdk .ot-tgl-cntr,#onetrust-pc-sdk .ot-arw-cntr{display:inline-block}#onetrust-pc-sdk .ot-tgl-cntr{width:45px;float:right;margin-top:2px}#onetrust-pc-sdk #ot-lst-cnt .ot-tgl-cntr{margin-top:10px}#onetrust-pc-sdk .ot-always-active-subgroup{width:auto;padding-left:0px !important;top:3px;position:relative}#onetrust-pc-sdk .ot-label-status{padding-left:5px;font-size:.75em;display:none}#onetrust-pc-sdk .ot-arw-cntr{margin-top:-1px}#onetrust-pc-sdk .ot-arw-cntr svg{-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s;transition:all 300ms ease-in 0s;height:10px;width:10px}#onetrust-pc-sdk input:checked~.ot-acc-hdr .ot-arw{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk .ot-arw{width:10px;margin-left:15px;transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-pc-sdk .ot-vlst-cntr{margin-bottom:0}#onetrust-pc-sdk .ot-hlst-cntr{margin-top:5px;display:inline-block;width:100%}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a,#onetrust-pc-sdk .category-host-list-handler{clear:both;color:#3860be;margin-left:0;font-size:.813em;text-decoration:none;float:left;overflow:hidden}#onetrust-pc-sdk .category-vendors-list-handler:hover,#onetrust-pc-sdk .category-vendors-list-handler+a:hover,#onetrust-pc-sdk .category-host-list-handler:hover{color:#1883fd}#onetrust-pc-sdk .category-vendors-list-handler+a{clear:none}#onetrust-pc-sdk .category-vendors-list-handler+a::after{content:"";height:15px;width:15px;background-repeat:no-repeat;margin-left:5px;float:right;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 511.626 511.627'%3E%3Cg fill='%231276CE'%3E%3Cpath d='M392.857 292.354h-18.274c-2.669 0-4.859.855-6.563 2.573-1.718 1.708-2.573 3.897-2.573 6.563v91.361c0 12.563-4.47 23.315-13.415 32.262-8.945 8.945-19.701 13.414-32.264 13.414H82.224c-12.562 0-23.317-4.469-32.264-13.414-8.945-8.946-13.417-19.698-13.417-32.262V155.31c0-12.562 4.471-23.313 13.417-32.259 8.947-8.947 19.702-13.418 32.264-13.418h200.994c2.669 0 4.859-.859 6.57-2.57 1.711-1.713 2.566-3.9 2.566-6.567V82.221c0-2.662-.855-4.853-2.566-6.563-1.711-1.713-3.901-2.568-6.57-2.568H82.224c-22.648 0-42.016 8.042-58.102 24.125C8.042 113.297 0 132.665 0 155.313v237.542c0 22.647 8.042 42.018 24.123 58.095 16.086 16.084 35.454 24.13 58.102 24.13h237.543c22.647 0 42.017-8.046 58.101-24.13 16.085-16.077 24.127-35.447 24.127-58.095v-91.358c0-2.669-.856-4.859-2.574-6.57-1.713-1.718-3.903-2.573-6.565-2.573z'/%3E%3Cpath d='M506.199 41.971c-3.617-3.617-7.905-5.424-12.85-5.424H347.171c-4.948 0-9.233 1.807-12.847 5.424-3.617 3.615-5.428 7.898-5.428 12.847s1.811 9.233 5.428 12.85l50.247 50.248-186.147 186.151c-1.906 1.903-2.856 4.093-2.856 6.563 0 2.479.953 4.668 2.856 6.571l32.548 32.544c1.903 1.903 4.093 2.852 6.567 2.852s4.665-.948 6.567-2.852l186.148-186.148 50.251 50.248c3.614 3.617 7.898 5.426 12.847 5.426s9.233-1.809 12.851-5.426c3.617-3.616 5.424-7.898 5.424-12.847V54.818c-.001-4.952-1.814-9.232-5.428-12.847z'/%3E%3C/g%3E%3C/svg%3E")}#onetrust-pc-sdk .back-btn-handler{font-size:1em;text-decoration:none}#onetrust-pc-sdk .back-btn-handler:hover{opacity:.6}#onetrust-pc-sdk #ot-lst-title span{display:inline-block;word-break:break-word;word-wrap:break-word;margin-bottom:0;color:#656565;font-size:1em;font-weight:bold;margin-left:15px}#onetrust-pc-sdk #ot-lst-title{margin:10px 0 10px 0px;font-size:1em;text-align:left}#onetrust-pc-sdk #ot-pc-hdr{margin:0 0 0 30px;height:auto;width:auto}#onetrust-pc-sdk #ot-pc-hdr input::placeholder{color:#d4d4d4;font-style:italic}#onetrust-pc-sdk #vendor-search-handler{height:31px;width:100%;border-radius:50px;font-size:.8em;padding-right:35px;padding-left:15px;float:left;margin-left:15px}#onetrust-pc-sdk .ot-ven-name{display:block;width:auto;padding-right:5px}#onetrust-pc-sdk #ot-lst-cnt{overflow-y:auto;margin-left:20px;margin-right:7px;width:calc(100% - 27px);max-height:calc(100% - 80px);height:100%;transform:translate3d(0, 0, 0)}#onetrust-pc-sdk #ot-pc-lst{width:100%;bottom:100px;position:absolute;top:60px}#onetrust-pc-sdk #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr .ot-arw-cntr,#onetrust-pc-sdk #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr .ot-arw-cntr *{visibility:hidden}#onetrust-pc-sdk #ot-pc-lst .ot-tgl-cntr{right:12px;position:absolute}#onetrust-pc-sdk #ot-pc-lst .ot-arw-cntr{float:right;position:relative}#onetrust-pc-sdk #ot-pc-lst .ot-arw{margin-left:10px}#onetrust-pc-sdk #ot-pc-lst .ot-acc-hdr{overflow:hidden;cursor:pointer}#onetrust-pc-sdk .ot-vlst-cntr{overflow:hidden}#onetrust-pc-sdk #ot-sel-blk{overflow:hidden;width:100%;position:sticky;position:-webkit-sticky;top:0;z-index:3}#onetrust-pc-sdk #ot-back-arw{height:12px;width:12px}#onetrust-pc-sdk .ot-lst-subhdr{width:100%;display:inline-block}#onetrust-pc-sdk .ot-search-cntr{float:left;width:78%;position:relative}#onetrust-pc-sdk .ot-search-cntr>svg{width:30px;height:30px;position:absolute;float:left;right:-15px}#onetrust-pc-sdk .ot-fltr-cntr{float:right;right:50px;position:relative}#onetrust-pc-sdk #filter-btn-handler{background-color:#3860be;border-radius:17px;display:inline-block;position:relative;width:32px;height:32px;-moz-transition:.1s ease;-o-transition:.1s ease;-webkit-transition:1s ease;transition:.1s ease;padding:0;margin:0}#onetrust-pc-sdk #filter-btn-handler:hover{background-color:#3860be}#onetrust-pc-sdk #filter-btn-handler svg{width:12px;height:12px;margin:3px 10px 0 10px;display:block;position:static;right:auto;top:auto}#onetrust-pc-sdk .ot-ven-link{color:#3860be;text-decoration:none;font-weight:100;display:inline-block;padding-top:10px;transform:translate(0, 1%);-o-transform:translate(0, 1%);-ms-transform:translate(0, 1%);-webkit-transform:translate(0, 1%);position:relative;z-index:2}#onetrust-pc-sdk .ot-ven-link *{font-size:inherit}#onetrust-pc-sdk .ot-ven-link:hover{text-decoration:underline}#onetrust-pc-sdk .ot-ven-hdr{width:calc(100% - 160px);height:auto;float:left;word-break:break-word;word-wrap:break-word;vertical-align:middle;padding-bottom:3px}#onetrust-pc-sdk .ot-ven-link{letter-spacing:.03em;font-size:.75em;font-weight:400}#onetrust-pc-sdk .ot-ven-dets{border-radius:2px;background-color:#f8f8f8}#onetrust-pc-sdk .ot-ven-dets div:first-child p:first-child{border-top:none}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:not(:first-child){border-top:1px solid #e9e9e9}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p{display:inline-block}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p:nth-of-type(odd){width:30%}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p:nth-of-type(even){width:50%;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc p{padding-top:5px;padding-bottom:5px;display:block}#onetrust-pc-sdk .ot-ven-dets p{font-size:.69em;text-align:left;vertical-align:middle;word-break:break-word;word-wrap:break-word;margin:0;padding-bottom:10px;padding-left:15px;color:#2e3644}#onetrust-pc-sdk .ot-ven-dets p:first-child{padding-top:5px}#onetrust-pc-sdk .ot-ven-dets .ot-ven-pur p:first-child{border-top:1px solid #e9e9e9;border-bottom:1px solid #e9e9e9;padding-bottom:5px;margin-bottom:5px;font-weight:bold}#onetrust-pc-sdk #ot-host-lst .ot-sel-all{float:right;position:relative;margin-right:42px;top:10px}#onetrust-pc-sdk #ot-host-lst .ot-sel-all input[type=checkbox]{width:auto;height:auto}#onetrust-pc-sdk #ot-host-lst .ot-sel-all label{height:20px;width:20px;padding-left:0px}#onetrust-pc-sdk #ot-host-lst .ot-acc-txt{overflow:hidden;width:95%}#onetrust-pc-sdk .ot-host-hdr{position:relative;z-index:1;pointer-events:none;width:calc(100% - 125px);float:left}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-desc{display:inline-block;width:90%}#onetrust-pc-sdk .ot-host-name{pointer-events:none}#onetrust-pc-sdk .ot-host-hdr>a{text-decoration:underline;font-size:.82em;position:relative;z-index:2;float:left;margin-bottom:5px;pointer-events:initial}#onetrust-pc-sdk .ot-host-name+a{margin-top:5px}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-name a,#onetrust-pc-sdk .ot-host-desc,#onetrust-pc-sdk .ot-host-info{color:dimgray;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-name a{font-weight:bold;font-size:.82em;line-height:1.3}#onetrust-pc-sdk .ot-host-name a{font-size:1em}#onetrust-pc-sdk .ot-host-expand{margin-top:3px;margin-bottom:3px;clear:both;display:block;color:#3860be;font-size:.72em;font-weight:normal}#onetrust-pc-sdk .ot-host-expand *{font-size:inherit}#onetrust-pc-sdk .ot-host-desc,#onetrust-pc-sdk .ot-host-info{font-size:.688em;line-height:1.4;font-weight:normal}#onetrust-pc-sdk .ot-host-desc{margin-top:10px}#onetrust-pc-sdk .ot-host-opt{margin:0;font-size:inherit;display:inline-block;width:100%}#onetrust-pc-sdk .ot-host-opt li>div div{font-size:.8em;padding:5px 0}#onetrust-pc-sdk .ot-host-opt li>div div:nth-child(1){width:30%;float:left}#onetrust-pc-sdk .ot-host-opt li>div div:nth-child(2){width:70%;float:left;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-host-info{border:none;display:inline-block;width:calc(100% - 10px);padding:10px;margin-bottom:10px;background-color:#f8f8f8}#onetrust-pc-sdk .ot-host-info>div{overflow:auto}#onetrust-pc-sdk #no-results{text-align:center;margin-top:30px}#onetrust-pc-sdk #no-results p{font-size:1em;color:#2e3644;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk #no-results p span{font-weight:bold}#onetrust-pc-sdk #ot-fltr-modal{width:100%;height:auto;display:none;-moz-transition:.2s ease;-o-transition:.2s ease;-webkit-transition:2s ease;transition:.2s ease;overflow:hidden;opacity:1;right:0}#onetrust-pc-sdk #ot-fltr-modal .ot-label-txt{display:inline-block;font-size:.85em;color:dimgray}#onetrust-pc-sdk #ot-fltr-cnt{z-index:2147483646;background-color:#fff;position:absolute;height:90%;max-height:300px;width:325px;left:210px;margin-top:10px;margin-bottom:20px;padding-right:10px;border-radius:3px;-webkit-box-shadow:0px 0px 12px 2px #c7c5c7;-moz-box-shadow:0px 0px 12px 2px #c7c5c7;box-shadow:0px 0px 12px 2px #c7c5c7}#onetrust-pc-sdk .ot-fltr-scrlcnt{overflow-y:auto;overflow-x:hidden;clear:both;max-height:calc(100% - 60px)}#onetrust-pc-sdk #ot-anchor{border:12px solid transparent;display:none;position:absolute;z-index:2147483647;right:55px;top:75px;transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);background-color:#fff;-webkit-box-shadow:-3px -3px 5px -2px #c7c5c7;-moz-box-shadow:-3px -3px 5px -2px #c7c5c7;box-shadow:-3px -3px 5px -2px #c7c5c7}#onetrust-pc-sdk .ot-fltr-btns{margin-left:15px}#onetrust-pc-sdk #filter-apply-handler{margin-right:15px}#onetrust-pc-sdk .ot-fltr-opt{margin-bottom:25px;margin-left:15px;width:75%;position:relative}#onetrust-pc-sdk .ot-fltr-opt p{display:inline-block;margin:0;font-size:.9em;color:#2e3644}#onetrust-pc-sdk .ot-chkbox label span{font-size:.85em;color:dimgray}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]:checked+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk #ot-selall-vencntr,#onetrust-pc-sdk #ot-selall-adtlvencntr,#onetrust-pc-sdk #ot-selall-hostcntr,#onetrust-pc-sdk #ot-selall-licntr,#onetrust-pc-sdk #ot-selall-gnvencntr{right:15px;position:relative;width:20px;height:20px;float:right}#onetrust-pc-sdk #ot-selall-vencntr label,#onetrust-pc-sdk #ot-selall-adtlvencntr label,#onetrust-pc-sdk #ot-selall-hostcntr label,#onetrust-pc-sdk #ot-selall-licntr label,#onetrust-pc-sdk #ot-selall-gnvencntr label{float:left;padding-left:0}#onetrust-pc-sdk #ot-ven-lst:first-child{border-top:1px solid #e2e2e2}#onetrust-pc-sdk ul{list-style:none;padding:0}#onetrust-pc-sdk ul li{position:relative;margin:0;padding:15px 15px 15px 10px;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk ul li h3{font-size:.75em;color:#656565;margin:0;display:inline-block;width:70%;height:auto;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk ul li p{margin:0;font-size:.7em}#onetrust-pc-sdk ul li input[type=checkbox]{position:absolute;cursor:pointer;width:100%;height:100%;opacity:0;margin:0;top:0;left:0}#onetrust-pc-sdk .ot-cat-item>button:focus,#onetrust-pc-sdk .ot-acc-cntr>button:focus,#onetrust-pc-sdk li>button:focus{outline:#000 solid 2px}#onetrust-pc-sdk .ot-cat-item>button,#onetrust-pc-sdk .ot-acc-cntr>button,#onetrust-pc-sdk li>button{position:absolute;cursor:pointer;width:100%;height:100%;margin:0;top:0;left:0;z-index:1;max-width:none;border:none}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=false]~.ot-acc-txt,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=false]~.ot-acc-txt,#onetrust-pc-sdk li>button[aria-expanded=false]~.ot-acc-txt{margin-top:0;max-height:0;opacity:0;overflow:hidden;width:100%;transition:.25s ease-out;display:none}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=true]~.ot-acc-txt,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=true]~.ot-acc-txt,#onetrust-pc-sdk li>button[aria-expanded=true]~.ot-acc-txt{transition:.1s ease-in;margin-top:10px;width:100%;overflow:auto;display:block}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=true]~.ot-acc-grpcntr,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=true]~.ot-acc-grpcntr,#onetrust-pc-sdk li>button[aria-expanded=true]~.ot-acc-grpcntr{width:auto;margin-top:0px;padding-bottom:10px}#onetrust-pc-sdk .ot-host-item>button:focus,#onetrust-pc-sdk .ot-ven-item>button:focus{outline:0;border:2px solid #000}#onetrust-pc-sdk .ot-hide-acc>button{pointer-events:none}#onetrust-pc-sdk .ot-hide-acc .ot-plus-minus>*,#onetrust-pc-sdk .ot-hide-acc .ot-arw-cntr>*{visibility:hidden}#onetrust-pc-sdk .ot-hide-acc .ot-acc-hdr{min-height:30px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt){padding-right:10px;width:calc(100% - 37px);margin-top:10px;max-height:calc(100% - 90px)}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk{background-color:#f9f9fc;border:1px solid #e2e2e2;width:calc(100% - 2px);padding-bottom:5px;padding-top:5px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-sel-all{padding-right:34px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-sel-all-chkbox{width:auto}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) ul li{border:1px solid #e2e2e2;margin-bottom:10px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-acc-cntr>.ot-acc-hdr{padding:10px 0 10px 15px}#onetrust-pc-sdk.ot-addtl-vendors .ot-sel-all-chkbox{float:right}#onetrust-pc-sdk.ot-addtl-vendors .ot-plus-minus~.ot-sel-all-chkbox{right:34px}#onetrust-pc-sdk.ot-addtl-vendors #ot-ven-lst:first-child{border-top:none}#onetrust-pc-sdk .ot-acc-cntr{position:relative;border-left:1px solid #e2e2e2;border-right:1px solid #e2e2e2;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk .ot-acc-cntr input{z-index:1}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr{background-color:#f9f9fc;padding:5px 0 5px 15px;width:auto}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr .ot-plus-minus{vertical-align:middle;top:auto}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr .ot-arw-cntr{right:10px}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr input{z-index:2}#onetrust-pc-sdk .ot-acc-cntr>input[type=checkbox]:checked~.ot-acc-hdr{border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-txt{padding-left:10px;padding-right:10px}#onetrust-pc-sdk .ot-acc-cntr button[aria-expanded=true]~.ot-acc-txt{width:auto}#onetrust-pc-sdk .ot-acc-cntr .ot-addtl-venbox{display:none}#onetrust-pc-sdk .ot-vlst-cntr{margin-bottom:0;width:100%}#onetrust-pc-sdk .ot-vensec-title{font-size:.813em;vertical-align:middle;display:inline-block}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a{margin-left:0;margin-top:10px}#onetrust-pc-sdk #ot-selall-vencntr.line-through label::after,#onetrust-pc-sdk #ot-selall-adtlvencntr.line-through label::after,#onetrust-pc-sdk #ot-selall-licntr.line-through label::after,#onetrust-pc-sdk #ot-selall-hostcntr.line-through label::after,#onetrust-pc-sdk #ot-selall-gnvencntr.line-through label::after{height:auto;border-left:0;transform:none;-o-transform:none;-ms-transform:none;-webkit-transform:none;left:5px;top:9px}#onetrust-pc-sdk #ot-category-title{float:left;padding-bottom:10px;font-size:1em;width:100%}#onetrust-pc-sdk .ot-cat-grp{margin-top:10px}#onetrust-pc-sdk .ot-cat-item{line-height:1.1;margin-top:10px;display:inline-block;width:100%}#onetrust-pc-sdk .ot-btn-container{text-align:right}#onetrust-pc-sdk .ot-btn-container button{display:inline-block;font-size:.75em;letter-spacing:.08em;margin-top:19px}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon{position:absolute;top:10px;right:0;z-index:1;padding:0;background-color:transparent;border:none}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon:hover{opacity:.7}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon svg{display:block;height:10px;width:10px}#onetrust-pc-sdk #clear-filters-handler{margin-top:20px;margin-bottom:10px;float:right;max-width:200px;text-decoration:none;color:#3860be;font-size:.9em;font-weight:bold;background-color:transparent;border-color:transparent;padding:1px}#onetrust-pc-sdk #clear-filters-handler:hover{color:#2285f7}#onetrust-pc-sdk #clear-filters-handler:focus{outline:#000 solid 1px}#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item{position:relative;border-radius:2px;margin:0;padding:0;border:1px solid #d8d8d8;border-top:none;width:calc(100% - 2px);float:left}#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item:first-of-type{margin-top:10px;border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc{padding-left:20px;padding-right:20px;width:calc(100% - 40px);font-size:.812em;margin-bottom:10px;margin-top:15px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc>ul{padding-top:10px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc>ul li{padding-top:0;line-height:1.5;padding-bottom:10px}#onetrust-pc-sdk .ot-accordion-layout div+.ot-acc-grpdesc{margin-top:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr:first-child{margin-top:10px}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr:last-child,#onetrust-pc-sdk .ot-accordion-layout .ot-hlst-cntr:last-child{margin-bottom:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-hdr{padding-top:11.5px;padding-bottom:11.5px;padding-left:20px;padding-right:20px;width:calc(100% - 40px);display:inline-block}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-txt{width:100%;padding:0px}#onetrust-pc-sdk .ot-accordion-layout .ot-subgrp-cntr{padding-left:20px;padding-right:15px;padding-bottom:0;width:calc(100% - 35px)}#onetrust-pc-sdk .ot-accordion-layout .ot-subgrp{padding-right:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpcntr{z-index:1;position:relative}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header+.ot-arw-cntr{position:absolute;top:50%;transform:translateY(-50%);right:20px;margin-top:-2px}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header+.ot-arw-cntr .ot-arw{width:15px;height:20px;margin-left:5px;color:dimgray}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header{float:none;color:#2e3644;margin:0;display:inline-block;height:auto;word-wrap:break-word;min-height:inherit}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr,#onetrust-pc-sdk .ot-accordion-layout .ot-hlst-cntr{padding-left:20px;width:calc(100% - 20px);display:inline-block;margin-top:0px;padding-bottom:2px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-hdr{position:relative;min-height:25px}#onetrust-pc-sdk .ot-accordion-layout h4~.ot-tgl,#onetrust-pc-sdk .ot-accordion-layout h4~.ot-always-active{position:absolute;top:50%;transform:translateY(-50%);right:20px}#onetrust-pc-sdk .ot-accordion-layout h4~.ot-tgl+.ot-tgl{right:95px}#onetrust-pc-sdk .ot-accordion-layout .category-vendors-list-handler,#onetrust-pc-sdk .ot-accordion-layout .category-vendors-list-handler+a{margin-top:5px}#onetrust-pc-sdk .ot-enbl-chr h4~.ot-tgl,#onetrust-pc-sdk .ot-enbl-chr h4~.ot-always-active{right:45px}#onetrust-pc-sdk .ot-enbl-chr h4~.ot-tgl+.ot-tgl{right:120px}#onetrust-pc-sdk .ot-enbl-chr .ot-pli-hdr.ot-leg-border-color span:first-child{width:90px}#onetrust-pc-sdk .ot-enbl-chr li.ot-subgrp>h5+.ot-tgl-cntr{padding-right:25px}#onetrust-pc-sdk .ot-plus-minus{width:20px;height:20px;font-size:1.5em;position:relative;display:inline-block;margin-right:5px;top:3px}#onetrust-pc-sdk .ot-plus-minus span{position:absolute;background:#27455c;border-radius:1px}#onetrust-pc-sdk .ot-plus-minus span:first-of-type{top:25%;bottom:25%;width:10%;left:45%}#onetrust-pc-sdk .ot-plus-minus span:last-of-type{left:25%;right:25%;height:10%;top:45%}#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-arw,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:first-of-type,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:last-of-type{transform:rotate(90deg)}#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:last-of-type{left:50%;right:50%}#onetrust-pc-sdk #ot-selall-vencntr label,#onetrust-pc-sdk #ot-selall-adtlvencntr label,#onetrust-pc-sdk #ot-selall-hostcntr label,#onetrust-pc-sdk #ot-selall-licntr label{position:relative;display:inline-block;width:20px;height:20px}#onetrust-pc-sdk .ot-host-item .ot-plus-minus,#onetrust-pc-sdk .ot-ven-item .ot-plus-minus{float:left;margin-right:8px;top:10px}#onetrust-pc-sdk .ot-pli-hdr{color:#77808e;overflow:hidden;padding-top:7.5px;padding-bottom:7.5px;width:calc(100% - 2px);border-top-left-radius:3px;border-top-right-radius:3px}#onetrust-pc-sdk .ot-pli-hdr span:first-child{top:50%;transform:translateY(50%);max-width:90px}#onetrust-pc-sdk .ot-pli-hdr span:last-child{padding-right:10px;max-width:95px;text-align:center}#onetrust-pc-sdk .ot-li-title{float:right;font-size:.813em}#onetrust-pc-sdk .ot-pli-hdr.ot-leg-border-color{background-color:#f4f4f4;border:1px solid #d8d8d8}#onetrust-pc-sdk .ot-pli-hdr.ot-leg-border-color span:first-child{text-align:left;width:70px}#onetrust-pc-sdk li.ot-subgrp>h5,#onetrust-pc-sdk .ot-cat-header{width:calc(100% - 130px)}#onetrust-pc-sdk li.ot-subgrp>h5+.ot-tgl-cntr{padding-left:13px}#onetrust-pc-sdk .ot-acc-grpcntr .ot-acc-grpdesc{margin-bottom:5px}#onetrust-pc-sdk .ot-acc-grpcntr .ot-subgrp-cntr{border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-acc-grpcntr .ot-vlst-cntr+.ot-subgrp-cntr{border-top:none}#onetrust-pc-sdk .ot-acc-hdr .ot-arw-cntr+.ot-tgl-cntr,#onetrust-pc-sdk .ot-acc-txt h4+.ot-tgl-cntr{padding-left:13px}#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-subgrp>h5,#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-cat-header{width:calc(100% - 145px)}#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item h5+.ot-tgl-cntr,#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-cat-header+.ot-tgl{padding-left:28px}#onetrust-pc-sdk .ot-sel-all-hdr,#onetrust-pc-sdk .ot-sel-all-chkbox{display:inline-block;width:100%;position:relative}#onetrust-pc-sdk .ot-sel-all-chkbox{z-index:1}#onetrust-pc-sdk .ot-sel-all{margin:0;position:relative;padding-right:23px;float:right}#onetrust-pc-sdk .ot-consent-hdr,#onetrust-pc-sdk .ot-li-hdr{float:right;font-size:.812em;line-height:normal;text-align:center;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-li-hdr{max-width:100px;padding-right:10px}#onetrust-pc-sdk .ot-consent-hdr{max-width:55px}#onetrust-pc-sdk #ot-selall-licntr{display:block;width:21px;height:auto;float:right;position:relative;right:80px}#onetrust-pc-sdk #ot-selall-licntr label{position:absolute}#onetrust-pc-sdk .ot-ven-ctgl{margin-left:66px}#onetrust-pc-sdk .ot-ven-litgl+.ot-arw-cntr{margin-left:81px}#onetrust-pc-sdk .ot-enbl-chr .ot-host-cnt .ot-tgl-cntr{width:auto}#onetrust-pc-sdk #ot-lst-cnt:not(.ot-host-cnt) .ot-tgl-cntr{width:auto;top:auto;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-chkbox{position:relative;display:inline-block;width:20px;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-chkbox label{position:absolute;padding:0;width:20px;height:20px}#onetrust-pc-sdk .ot-acc-grpdesc+.ot-leg-btn-container{padding-left:20px;padding-right:20px;width:calc(100% - 40px);margin-bottom:5px}#onetrust-pc-sdk .ot-subgrp .ot-leg-btn-container{margin-bottom:5px}#onetrust-pc-sdk #ot-ven-lst .ot-leg-btn-container{margin-top:10px}#onetrust-pc-sdk .ot-leg-btn-container{display:inline-block;width:100%;margin-bottom:10px}#onetrust-pc-sdk .ot-leg-btn-container button{height:auto;padding:6.5px 8px;margin-bottom:0;letter-spacing:0;font-size:.75em;line-height:normal}#onetrust-pc-sdk .ot-leg-btn-container svg{display:none;height:14px;width:14px;padding-right:5px;vertical-align:sub}#onetrust-pc-sdk .ot-active-leg-btn{cursor:default;pointer-events:none}#onetrust-pc-sdk .ot-active-leg-btn svg{display:inline-block}#onetrust-pc-sdk .ot-remove-objection-handler{text-decoration:underline;padding:0;font-size:.75em;font-weight:600;line-height:1;padding-left:10px}#onetrust-pc-sdk .ot-obj-leg-btn-handler span{font-weight:bold;text-align:center;font-size:inherit;line-height:1.5}#onetrust-pc-sdk.ot-close-btn-link #close-pc-btn-handler{border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.69em;background:none;right:15px;top:15px;width:auto;font-weight:normal}#onetrust-pc-sdk[dir=rtl] #ot-back-arw,#onetrust-pc-sdk[dir=rtl] input~.ot-acc-hdr .ot-arw{transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg)}#onetrust-pc-sdk[dir=rtl] input:checked~.ot-acc-hdr .ot-arw{transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg);-webkit-transform:rotate(270deg)}#onetrust-pc-sdk[dir=rtl] .ot-chkbox label::after{transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-left:0;border-right:3px solid}#onetrust-pc-sdk[dir=rtl] .ot-search-cntr>svg{right:0}@media only screen and (max-width: 600px){#onetrust-pc-sdk.otPcCenter{left:0;min-width:100%;height:100%;top:0;border-radius:0}#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container{margin:1px 3px 0 10px;padding-right:10px;width:calc(100% - 23px)}#onetrust-pc-sdk .ot-btn-container button{max-width:none;letter-spacing:.01em}#onetrust-pc-sdk #close-pc-btn-handler{top:10px;right:17px}#onetrust-pc-sdk p{font-size:.7em}#onetrust-pc-sdk #ot-pc-hdr{margin:10px 10px 0 5px;width:calc(100% - 15px)}#onetrust-pc-sdk .vendor-search-handler{font-size:1em}#onetrust-pc-sdk #ot-back-arw{margin-left:12px}#onetrust-pc-sdk #ot-lst-cnt{margin:0;padding:0 5px 0 10px;min-width:95%}#onetrust-pc-sdk .switch+p{max-width:80%}#onetrust-pc-sdk .ot-ftr-stacked button{width:100%}#onetrust-pc-sdk #ot-fltr-cnt{max-width:320px;width:90%;border-top-right-radius:0;border-bottom-right-radius:0;margin:0;margin-left:15px;left:auto;right:40px;top:85px}#onetrust-pc-sdk .ot-fltr-opt{margin-left:25px;margin-bottom:10px}#onetrust-pc-sdk .ot-pc-refuse-all-handler{margin-bottom:0}#onetrust-pc-sdk #ot-fltr-cnt{right:40px}}@media only screen and (max-width: 476px){#onetrust-pc-sdk .ot-fltr-cntr,#onetrust-pc-sdk #ot-fltr-cnt{right:10px}#onetrust-pc-sdk #ot-anchor{right:25px}#onetrust-pc-sdk button{width:100%}#onetrust-pc-sdk:not(.ot-addtl-vendors) #ot-pc-lst:not(.ot-enbl-chr) .ot-sel-all{padding-right:9px}#onetrust-pc-sdk:not(.ot-addtl-vendors) #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr{right:0}}@media only screen and (max-width: 896px)and (max-height: 425px)and (orientation: landscape){#onetrust-pc-sdk.otPcCenter{left:0;top:0;min-width:100%;height:100%;border-radius:0}#onetrust-pc-sdk #ot-anchor{left:initial;right:50px}#onetrust-pc-sdk #ot-lst-title{margin-top:12px}#onetrust-pc-sdk #ot-lst-title *{font-size:inherit}#onetrust-pc-sdk #ot-pc-hdr input{margin-right:0;padding-right:45px}#onetrust-pc-sdk .switch+p{max-width:85%}#onetrust-pc-sdk #ot-sel-blk{position:static}#onetrust-pc-sdk #ot-pc-lst{overflow:auto}#onetrust-pc-sdk #ot-lst-cnt{max-height:none;overflow:initial}#onetrust-pc-sdk #ot-lst-cnt.no-results{height:auto}#onetrust-pc-sdk input{font-size:1em !important}#onetrust-pc-sdk p{font-size:.6em}#onetrust-pc-sdk #ot-fltr-modal{width:100%;top:0}#onetrust-pc-sdk ul li p,#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a,#onetrust-pc-sdk .category-host-list-handler{font-size:.6em}#onetrust-pc-sdk.ot-shw-fltr #ot-anchor{display:none !important}#onetrust-pc-sdk.ot-shw-fltr #ot-pc-lst{height:100% !important;overflow:hidden;top:0px}#onetrust-pc-sdk.ot-shw-fltr #ot-fltr-cnt{margin:0;height:100%;max-height:none;padding:10px;top:0;width:calc(100% - 20px);position:absolute;right:0;left:0;max-width:none}#onetrust-pc-sdk.ot-shw-fltr .ot-fltr-scrlcnt{max-height:calc(100% - 65px)}}
            #onetrust-consent-sdk #onetrust-pc-sdk,
                #onetrust-consent-sdk #ot-search-cntr,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-switch.ot-toggle,
                #onetrust-consent-sdk #onetrust-pc-sdk ot-grp-hdr1 .checkbox,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-title:after
                ,#onetrust-consent-sdk #onetrust-pc-sdk #ot-sel-blk,
                        #onetrust-consent-sdk #onetrust-pc-sdk #ot-fltr-cnt,
                        #onetrust-consent-sdk #onetrust-pc-sdk #ot-anchor {
                    background-color: #FFFFFF;
                }
               
            #onetrust-consent-sdk #onetrust-pc-sdk h3,
                #onetrust-consent-sdk #onetrust-pc-sdk h4,
                #onetrust-consent-sdk #onetrust-pc-sdk h5,
                #onetrust-consent-sdk #onetrust-pc-sdk h6,
                #onetrust-consent-sdk #onetrust-pc-sdk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-ven-lst .ot-ven-opts p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-desc,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-li-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-sel-all-hdr span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-fltr-modal #modal-header,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-checkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-sel-blk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-lst-title span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst .back-btn-handler p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst .ot-ven-name,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-ven-lst .consent-category,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-label-status,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-chkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #clear-filters-handler 
                {
                    color: #2B2E33;
                }
             #onetrust-consent-sdk #onetrust-pc-sdk .privacy-notice-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler + a,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-host-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-ven-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-name a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-acc-hdr .ot-host-expand,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info a
                    {
                        color: #635DFF;
                    }
            #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler:hover { opacity: .7;}
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-grpcntr.ot-acc-txt,
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-txt .ot-subgrp-tgl .ot-switch.ot-toggle
             {
                background-color: #F8F8F8;
            }
             #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-txt .ot-ven-dets
                            {
                                background-color: #F8F8F8;
                            }
        #onetrust-consent-sdk #onetrust-pc-sdk 
            button:not(#clear-filters-handler):not(.ot-close-icon):not(#filter-btn-handler):not(.ot-remove-objection-handler):not(.ot-obj-leg-btn-handler):not([aria-expanded]):not(.ot-link-btn),
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-active-leg-btn {
                background-color: #635DFF;border-color: #635DFF;
                color: #FFFFFF;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-active-menu {
                border-color: #635DFF;
            }
            
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-remove-objection-handler{
                background-color: transparent;
                border: 1px solid transparent;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn {
                background-color: #FFFFFF;
                color: #78808E; border-color: #78808E;
            }
            @media only screen and (max-width: 600px) {
  #onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container {
    margin: 0;
  }
}

#onetrust-pc-sdk * {
  font-family: Inter, sans-serif!important;
}

#onetrust-pc-sdk {
  border-radius: 32px!important;
  height: 695px!important;
  width: 100%!important;
  max-width: 603px!important;
}

#onetrust-pc-sdk #ot-pc-content {
  width: 100%;
  max-width: 603px;
  margin: 0;
  box-sizing: border-box;
  padding: 32px 32px 32px 40px;
}

#onetrust-pc-sdk h2#ot-pc-title, #onetrust-pc-sdk h3#ot-category-title {
  font-weight: 400;
  font-size: 20px;
  line-height: 28px;
  letter-spacing: -0.1px;
  color: #41444B;
  margin: 0 0 16px 0;
  padding: 0;
}

#onetrust-pc-sdk #ot-pc-desc {
  margin-bottom: 16px;
  font-size: 16px;
  line-height: 24px;
  letter-spacing: -0.01px;
  color: #2B2E33;
}

#onetrust-pc-sdk #ot-pc-desc a {
  text-decoration: none;
  font-size: 16px;
  line-height: 24px;
  letter-spacing: -0.01px;
  margin-top: 8px;
  display: block;
}

#onetrust-pc-sdk #ot-pc-desc a:hover {
  color: #564ed1!important;
  opacity: 1;
}

#onetrust-pc-sdk .ot-accordion-layout h4~.ot-always-active{
  color: #635DFF;
}

#onetrust-pc-sdk .ot-pc-header .ot-pc-logo {
  background-size: 90px;
}

#onetrust-pc-sdk .ot-btn-container {
  box-sizing: border-box;
  padding: 0 40px;
}

#onetrust-pc-sdk button#accept-recommended-btn-handler, #onetrust-pc-sdk .ot-btn-container button.ot-pc-refuse-all-handler, #onetrust-pc-sdk .ot-btn-container button.save-preference-btn-handler {
  border-radius: 8px!important;
  font-weight: 400;
  font-size: 16px;
  line-height: 32px;
  letter-spacing: 0;
  padding: 7px 24px;
  min-width: auto;
  margin-bottom: 32px;
  margin-right: 0;
}

#onetrust-pc-sdk button#accept-recommended-btn-handler:hover, #onetrust-pc-sdk .ot-btn-container button.save-preference-btn-handler:hover {
  background: #564ed1!important;
  opacity: 1;
}

#onetrust-pc-sdk .ot-btn-container button.ot-pc-refuse-all-handler {
  background-color: white!important;
  color: #2B2E33!important;
  border-color: #5A6066!important;
  margin-bottom: 0px!important;
}

#onetrust-pc-sdk .ot-btn-container button.ot-pc-refuse-all-handler:hover {
  border-color: #000!important;
  background: white;
  opacity: 1!important;
}

#onetrust-pc-sdk .ot-pc-footer {
  border: none;
}

#onetrust-pc-sdk button#accept-recommended-btn-handler:focus, #onetrust-pc-sdk .ot-btn-container button.ot-pc-refuse-all-handler:focus, #onetrust-pc-sdk .ot-btn-container button.save-preference-btn-handler:focus {
  outline: none!important;
}

.ot-accordion-layout #onetrust-pc-sdk button {
  padding: 8px 16px;
}

#onetrust-pc-sdk .ot-cat-item>button:focus, #onetrust-pc-sdk .ot-acc-cntr>button:focus, #onetrust-pc-sdk li>button:focus {
  outline: none!important;
}

#onetrust-pc-sdk .ot-cat-grp {
  margin-top: 0!important;
}

#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item:first-of-type {
  margin-top: 0!important;
}

#onetrust-pc-sdk .ot-pc-footer-logo {
  margin-left: -11px;
  background-color: #fff;
}.ot-sdk-cookie-policy{font-family:inherit;font-size:16px}.ot-sdk-cookie-policy.otRelFont{font-size:1rem}.ot-sdk-cookie-policy h3,.ot-sdk-cookie-policy h4,.ot-sdk-cookie-policy h6,.ot-sdk-cookie-policy p,.ot-sdk-cookie-policy li,.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy th,.ot-sdk-cookie-policy #cookie-policy-description,.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}.ot-sdk-cookie-policy h4{font-size:1.2em}.ot-sdk-cookie-policy h6{font-size:1em;margin-top:2em}.ot-sdk-cookie-policy th{min-width:75px}.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy a:hover{background:#fff}.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}.ot-sdk-cookie-policy .ot-mobile-border{display:none}.ot-sdk-cookie-policy section{margin-bottom:2em}.ot-sdk-cookie-policy table{border-collapse:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy{font-family:inherit;font-size:1rem}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup{margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group-desc,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-table-header,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td{font-size:.9em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td a{font-size:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group{font-size:1em;margin-bottom:.6em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-title{margin-bottom:1.2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy>section{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th{min-width:75px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a:hover{background:#fff}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-mobile-border{display:none}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy section{margin-bottom:2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li{list-style:disc;margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li h4{display:inline-block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{border-collapse:inherit;margin:auto;border:1px solid #d7d7d7;border-radius:5px;border-spacing:initial;width:100%;overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border-bottom:1px solid #d7d7d7;border-right:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr th:last-child,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr td:last-child{border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:25%}.ot-sdk-cookie-policy[dir=rtl]{text-align:left}#ot-sdk-cookie-policy h3{font-size:1.5em}@media only screen and (max-width: 530px){.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) table,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tbody,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) th,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{display:block}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead tr{position:absolute;top:-9999px;left:-9999px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{margin:0 0 1em 0}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd),.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd) a{background:#f6f6f4}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{position:absolute;height:100%;left:6px;width:40%;padding-right:10px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) .ot-mobile-border{display:inline-block;background-color:#e4e4e4;position:absolute;height:100%;top:0;left:45%;width:2px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{content:attr(data-label);font-weight:bold}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border:none;border-bottom:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{display:block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:auto}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{margin:0 0 1em 0}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{height:100%;width:40%;padding-right:10px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{content:attr(data-label);font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead tr{position:absolute;top:-9999px;left:-9999px;z-index:-9999}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:1px solid #d7d7d7;border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td:last-child{border-bottom:0px}}
                
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h5,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group {
                        color: #696969;
                    }
                    
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title {
                            color: #696969;
                        }
                    
            
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th {
                            background-color: #F8F8F8;
                        }
                    
            </style><style type="text/css">.drift-conductor-item iframe,
.drift-frame-controller {
  display: block;
  min-width: 0;
  max-width: none;
  min-height: 0;
  max-height: none;
}

.drift-conductor-item iframe {
  border: none !important;
  background: transparent !important;
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
}

.drift-conductor-item.with-transition {
  -webkit-transition: opacity .5s ease, -webkit-transform .5s ease;
  transition: opacity .5s ease, -webkit-transform .5s ease;
  -o-transition: opacity .5s ease, -o-transform .5s ease;
  -moz-transition: opacity .5s ease, transform .5s ease, -moz-transform .5s ease;
  transition: opacity .5s ease, transform .5s ease;
  transition: opacity .5s ease, transform .5s ease, -webkit-transform .5s ease, -moz-transform .5s ease, -o-transform .5s ease;
}

.drift-frame-chat.with-transition.drift-frame-chat__takeover {
  -webkit-transition: opacity .5s ease;
  -o-transition: opacity .5s ease;
  -moz-transition: opacity .5s ease;
  transition: opacity .5s ease;
}

.drift-conductor-item.with-height-transition {
  -webkit-transition: max-height .5s ease, opacity .5s ease, -webkit-transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, -webkit-transform .5s ease;
  -o-transition: max-height .5s ease, opacity .5s ease, -o-transform .5s ease;
  -moz-transition: max-height .5s ease, opacity .5s ease, transform .5s ease, -moz-transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, transform .5s ease, -webkit-transform .5s ease, -moz-transform .5s ease, -o-transform .5s ease;
}

.drift-conductor-item {
  -webkit-transform: translateZ(0);
     -moz-transform: translateZ(0);
          transform: translateZ(0);
}

.drift-frame-controller-align-left {
  left: 24px;
}

.drift-frame-controller-align-right {
  right: 24px;
}

.drift-frame-chat:not(iframe) {
  bottom: -webkit-calc(12px + 52px + 24px);
  bottom: -moz-calc(12px + 52px + 24px);
  bottom: calc(12px + 52px + 24px); /* vertical margin x 2 + widget icon size*/
  width: 100%;
  height: 100%;
  min-width: 320px;
  opacity: 0;
  visibility: hidden;

  -webkit-transform: translateY(88px);

     -moz-transform: translateY(88px);

      -ms-transform: translateY(88px);

       -o-transform: translateY(88px);

          transform: translateY(88px);
}

.drift-frame-chat:not(iframe).drift-chat-open {
  opacity: 1;
  visibility: visible;
  -webkit-transform: translateY(0px);
     -moz-transform: translateY(0px);
      -ms-transform: translateY(0px);
       -o-transform: translateY(0px);
          transform: translateY(0px);
}

.drift-frame-chat.drift-frame-chat__takeover:not(iframe):not(.drift-frame--mobile) {
  min-width: 600px;
}

.drift-frame-chat-align-left {
  left: 12px;
}

.drift-frame-chat-align-right {
  right: 12px;
}

.drift-frame-takeover,
.drift-frame-landingPage,
.drift-frame-chat__takeover {
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  min-height: 100%;
  min-width: 100%;
}

.drift-frame-chat__takeover.hide-frame {
  visibility: hidden;
}

.drift-frame-emailCapture {
  bottom: 0;
  height: -webkit-calc(100% + 30px);
  height: -moz-calc(100% + 30px);
  height: calc(100% + 30px);
}

.drift-frame-emailCapture-align-left {
  left: 0;
}

.drift-frame-emailCapture-align-right {
  right: 0;
}

.drift-frame-slider {
  bottom: 18px;
  height: -webkit-calc(100% + 20px);
  height: -moz-calc(100% + 20px);
  height: calc(100% + 20px);
}

.drift-frame-slider-align-left {
  left: 96px;
}

.drift-frame-slider-align-right {
  right: 96px;
}

.drift-frame--mobile.drift-frame-slider-align-left {
  left: 68px;
}

.drift-frame--mobile.drift-frame-slider-align-right {
  right: 68px;
}

.drift-widget-content-box {
  background: rgba(0,0,0,.5);
  width: 100%;
  height: 100%;

  position: fixed;
  z-index: 2147483647;
  top: 0;
  left: 0;
}

.drift-widget-content-box > * {
  margin: 0 auto;
  position: relative;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
     -moz-transform: translate(-50%, -50%);
      -ms-transform: translate(-50%, -50%);
       -o-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  max-height: 80%;

}

@media
(max-height: 685px),
(min-width: 369px) and (max-width: 380px),
(max-width: 367px),

(min-device-width: 320px)
and (max-device-width: 480px)
and (-webkit-min-device-pixel-ratio: 2)
and (orientation: portrait)

{
  .drift-frame--mobile.drift-frame-chat.drift-chat-open {
    bottom: 0 !important;
    right: 0;
    left: 0;
    z-index: 2147483647 !important;
  }

  .drift-frame--mobile.drift-frame-controller {
    bottom: 0;
  }

  .drift-frame--mobile.drift-frame-controller.drift-frame-controller-align-left {
    left: 0;
  }

  .drift-frame--mobile.drift-frame-controller.drift-frame-controller-align-right {
    right: 0;
  }


  .drift-frame--mobile.drift-frame-controller.drift-chat-open {
    display: none;
  }

  .drift-frame--mobile.drift-frame-slider {
    bottom: 0;
    max-width: 320px;
  }

  .drift-frame--mobile iframe.drift-frame-chat {
    width: 1px !important;
    min-width: 100%;

    height: 1px !important;
    min-height: 100%;
  }

  html.drift-widget-parent--chat-open,
  html.drift-widget-parent--chat-open > body {
    height: 100vh !important;
    margin: 0 !important;
    min-height: 0 !important;
    overflow: hidden !important;
    position: static !important;
  }
}
</style></head><body itemscope="" itemtype="http://schema.org/WebPage"><div id="__next"><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="96e22fd8-d619-4cdd-a3c6-d51529d21faf" id="consent-script"></script><script>
                function OptanonWrapper() {
                  const status = document.getElementById("onetrust-accept-btn-handler") ? 'waitingForConsent' : 'expressedConsent';
                  window.top.postMessage(status, '*');
                }
              </script><script>window.datafile=undefined</script><div style="width: 0%; opacity: 1;" class="u5ztjm-0 fpXLVz"></div><nav id="blog-header" class="qfu855-0 jHZpuz hide-blog-nav"><div class="qfu855-1 cohnnM"><div class="qfu855-2 hReZRI"><a href="https://auth0.com/" class="qfu855-3 BbhZl"><svg width="82" height="34" viewBox="0 -5 82 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.596 0H10.8l2.408 7.511h7.797l-6.307 4.473 2.409 7.55c4.058-2.957 5.39-7.438 3.898-12.031L18.596 0zM.593 7.511H8.39L10.799 0H3L.593 7.511C-.9 12.104.433 16.585 4.492 19.543l2.407-7.551L.593 7.511zm3.899 12.024L10.799 24l6.306-4.465L10.8 14.99l-6.307 4.545zM63.343 7.32c-1.842 0-3.022.837-3.572 2.2h-.143V3.34H56.86v16.163h2.83v-7.017c0-1.738 1.077-2.735 2.6-2.735 1.483 0 2.36.95 2.36 2.568v7.184h2.83v-7.655c-.007-2.91-1.65-4.528-4.138-4.528zm11.785-4.011c-3.827 0-6.14 2.998-6.147 8.205 0 5.222 2.296 8.26 6.147 8.26 3.843.008 6.148-3.03 6.148-8.26-.008-5.199-2.32-8.205-6.148-8.205zm-3.221 8.205c.008-3.804 1.244-5.805 3.221-5.805 1.356 0 2.36.925 2.862 2.719l-6.035 4.385a16.46 16.46 0 01-.048-1.3zm3.221 5.828c-1.395 0-2.424-.988-2.91-2.902l6.067-4.41c.048.463.072.957.072 1.492 0 3.827-1.236 5.82-3.229 5.82zm-31.009-2.886c0 1.826-1.307 2.735-2.56 2.735-1.362 0-2.264-.965-2.264-2.488V7.495h-2.83v7.647c0 2.886 1.642 4.52 4.003 4.52 1.802 0 3.061-.948 3.611-2.288h.128v2.137h2.743V7.495h-2.83v6.96zM30.062 7.312c-2.527 0-4.465 1.124-5.087 3.317l2.64.374c.279-.82 1.076-1.523 2.463-1.523 1.316 0 2.033.67 2.033 1.85v.048c0 .813-.853.853-2.974 1.076-2.328.248-4.56.95-4.56 3.652 0 2.36 1.73 3.612 4.018 3.612 1.882 0 3.006-.885 3.524-1.89h.096v1.651h2.719v-8.037c.008-3.174-2.575-4.13-4.872-4.13zm2.057 7.853c0 1.34-1.076 2.472-2.782 2.472-1.18 0-2.026-.542-2.026-1.579 0-1.084.95-1.538 2.21-1.722.74-.103 2.224-.287 2.598-.59v1.42zM52.994 4.49h-2.83v3.006h-1.715v2.256h1.714v6.65c-.016 2.257 1.627 3.373 3.756 3.31a5.58 5.58 0 001.443-.216v-2.24c-.215.031-.718.095-1.077.103-.71.016-1.283-.247-1.283-1.395V9.752h2.36v-2.25h-2.368V4.489z" fill="#FFF"></path></svg></a><div class="qfu855-4 emMsNN"></div><a href="https://auth0.com/blog/" class="qfu855-3 BbhZl"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/logo-white-blog.svg" alt="blog logo"></a></div><ul class="qfu855-5 hIZgQv"><li class="qfu855-6 fAESXk"><a href="https://auth0.com/blog/developers/" class="qfu855-7 eCBDNx">Developers</a></li><li class="qfu855-6 fAESXk"><a href="https://auth0.com/blog/identity-and-security/" class="qfu855-7 eCBDNx">Identity &amp; Security</a></li><li class="qfu855-6 fAESXk"><a href="https://auth0.com/blog/business/" class="qfu855-7 eCBDNx">Business</a></li><li class="qfu855-6 fAESXk"><a href="https://auth0.com/blog/leadership/" class="qfu855-7 eCBDNx">Leadership</a></li><li class="qfu855-6 fAESXk"><a href="https://auth0.com/blog/culture/" class="qfu855-7 eCBDNx">Culture</a></li><li class="qfu855-6 fAESXk"><a href="https://auth0.com/blog/engineering/" class="qfu855-7 eCBDNx">Engineering</a></li><li class="qfu855-6 fAESXk"><a href="https://auth0.com/blog/announcements/" class="qfu855-7 eCBDNx">Announcements</a></li></ul><div class="qfu855-8 cPvhoI"><button class="qfu855-10 hpzlFm">Talk To Sales</button><a href="https://auth0.com/signup?&amp;signUpData=%7B%22category%22%3A%22button%22%7D" class="qfu855-11 fcQwCn">Sign Up</a><div class="qfu855-12 HwYCK"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/search-icon-desktop.svg" class="qfu855-14 hrwAyh"></div></div><div class="qfu855-9 lgmNqJ"><div class="qfu855-13 hLjGgW"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/search-icon-mobile.svg" class="qfu855-14 hrwAyh"></div><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/hamburger-menu.svg" class="qfu855-15 gcnOMi"></div></div></nav><div class="sc-1ow9wvv-0 zfplh"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/close-button-desktop.svg" class="sc-1ow9wvv-3 glLQTZ"><span class="sc-1ow9wvv-1 dBJEMD">Discover and enable the integrations you need to solve identity</span><a href="https://marketplace.auth0.com/?utm_source=blog&amp;utm_medium=top-banner" target="_blank" rel="noopener noreferrer" class="sc-1ow9wvv-2 jwCgfY">Auth0 Marketplace</a></div><div class="qfu855-16 beQUPE"><ul class="qfu855-17 hdfvqY"><li class="qfu855-18 gINsin"><a href="https://auth0.com/blog/developers/" class="qfu855-19 jWrqOS">Developers</a></li><li class="qfu855-18 gINsin"><a href="https://auth0.com/blog/identity-and-security/" class="qfu855-19 jWrqOS">Identity &amp; Security</a></li><li class="qfu855-18 gINsin"><a href="https://auth0.com/blog/business/" class="qfu855-19 jWrqOS">Business</a></li><li class="qfu855-18 gINsin"><a href="https://auth0.com/blog/leadership/" class="qfu855-19 jWrqOS">Leadership</a></li><li class="qfu855-18 gINsin"><a href="https://auth0.com/blog/culture/" class="qfu855-19 jWrqOS">Culture</a></li><li class="qfu855-18 gINsin"><a href="https://auth0.com/blog/engineering/" class="qfu855-19 jWrqOS">Engineering</a></li><li class="qfu855-18 gINsin"><a href="https://auth0.com/blog/announcements/" class="qfu855-19 jWrqOS">Announcements</a></li><li class="qfu855-20 qqefI"><a href="https://auth0.com/signup?&amp;signUpData=%7B%22category%22%3A%22button%22%7D" class="qfu855-21 hkSJcp">Try Auth0 For Free</a><button class="qfu855-22 jhsIbq">Talk To Sales</button></li></ul></div><div id="modal-root"><div></div><div></div></div><div itemscope="" itemtype="http://schema.org/BlogPosting" itemprop="mainEntity"><link itemprop="mainEntityOfPage" href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/"><section class="v0njjd-0 kEXVJZ"><header class="bie152-0 fdUNjD"><div class="bie152-2 HzgPI"><div class="bie152-3 bvpwcT"><div class="bie152-4 hEWFFr"><span class="bie152-5 iWwXup">Node</span><h1 itemprop="headline" class="bie152-6 gmdlsg">The Complete Guide to Node.js User Authentication with Auth0</h1><p itemprop="description" class="bie152-7 cKMtoG">Learn how to add user authentication to Node.js web apps built with Express using middleware</p></div><div class="bie152-8 guySzk"><div class="bie152-9 cQQJTT"><a href="https://auth0.com/blog/authors/dan-arias/" class="bie152-10 jdWmtl"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/37590801_s_460_v_4" class="bie152-11 SbeZk"><div class="bie152-12 kAjmGL"><h4 class="bie152-13 coofmK">Dan Arias</h4><h4 class="bie152-14 czqHud">R&amp;D Content Engineer</h4></div></a></div></div><p class="bie152-15 jxcMKT">November 06, 2020</p><meta itemprop="datePublished" content="2020-11-06"><meta itemprop="dateModified" content="2020-11-06"></div><div class="bie152-16 dVDHHD"><figure itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject" class="bie152-17 clmTtJ"><meta itemprop="url" content="https://images.ctfassets.net/23aumh6u8s0i/7tiXdl3hqVv1Zf4ieYQ4to/a28cbc1e456759e92860edd79a07463a/nodejs"><meta itemprop="width" content="1176"><meta itemprop="height" content="1056"></figure></div></div></header><header class="bie152-0 bie152-1 fdUNjD dxeIkr"><div class="bie152-2 HzgPI"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/nodejs" class="bie152-18 hhBVmp"><div class="bie152-4 hEWFFr"><span class="bie152-5 iWwXup">Node</span><h1 itemprop="headline" class="bie152-6 gmdlsg">The Complete Guide to Node.js User Authentication with Auth0</h1><p itemprop="description" class="bie152-7 cKMtoG">Learn how to add user authentication to Node.js web apps built with Express using middleware</p><div class="bie152-8 guySzk"><div class="bie152-9 cQQJTT"><a href="https://auth0.com/blog/authors/dan-arias/" class="bie152-10 jdWmtl"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/37590801_s_460_v_4" class="bie152-11 SbeZk"><div class="bie152-12 kAjmGL"><h4 class="bie152-13 coofmK">Dan Arias</h4><h4 class="bie152-14 czqHud">R&amp;D Content Engineer</h4></div></a></div></div><p class="bie152-15 jxcMKT">November 06, 2020</p><meta itemprop="datePublished" content="2020-11-06"><meta itemprop="dateModified" content="2020-11-06"></div></div></header><aside class="sc-59gcxs-0 eGoNHg"><div class="sc-59gcxs-1 ibnLIz"><p class="sc-59gcxs-2 bXnLac">Table of Contents</p><svg width="14" height="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="sc-59gcxs-3 gYAqhN"><defs><path d="M16.66 7.903l-6.07 6.617c-.019.028-.012.064-.037.089a.522.522 0 01-.398.15.523.523 0 01-.394-.15c-.024-.025-.018-.06-.036-.087l-6.07-6.618a.53.53 0 01.748-.748l5.753 6.274 5.755-6.275a.528.528 0 11.748.748z" id="open_svg__a"></path></defs><use fill="#000" xlink:href="#open_svg__a" transform="translate(-3 -7)" fill-rule="evenodd"></use></svg></div><div class="sc-59gcxs-5 URtjQ"><ul class="sc-59gcxs-6 cXKgTi"><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Get-the-Starter-Application" class="sc-59gcxs-8 kHzLyO">Get the Starter Application</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Connect-Express-with-Auth0" class="sc-59gcxs-8 kHzLyO">Connect Express with Auth0</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Set-Up-Express-OpenID-Connect" class="sc-59gcxs-8 kHzLyO">Set Up Express OpenID Connect</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Add-User-Authentication" class="sc-59gcxs-8 kHzLyO">Add User Authentication</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Retrieving-User-Information" class="sc-59gcxs-8 kHzLyO">Retrieving User Information</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Protecting-Routes" class="sc-59gcxs-8 kHzLyO">Protecting Routes</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Calling-an-API" class="sc-59gcxs-8 kHzLyO">Calling an API</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Conclusion" class="sc-59gcxs-8 kHzLyO">Conclusion</a></li></ul></div></aside><article class="v0njjd-1 dHwRRo"><aside class="sc-1y9xkzh-0 bMXvsY"><div class="sc-1y9xkzh-1 hTZJuI"><div class="sc-1y9xkzh-2 JYDoz"><h4 class="sc-1y9xkzh-3 cueMcy">Table of Contents</h4><ul class="sc-1y9xkzh-4 bHqwnd"><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Get-the-Starter-Application" class="sc-1y9xkzh-6 inGZzq">Get the Starter Application</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Connect-Express-with-Auth0" class="sc-1y9xkzh-6 inGZzq">Connect Express with Auth0</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Set-Up-Express-OpenID-Connect" class="sc-1y9xkzh-6 inGZzq">Set Up Express OpenID Connect</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Add-User-Authentication" class="sc-1y9xkzh-6 iJUjtc">Add User Authentication</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Retrieving-User-Information" class="sc-1y9xkzh-6 inGZzq">Retrieving User Information</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Protecting-Routes" class="sc-1y9xkzh-6 inGZzq">Protecting Routes</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Calling-an-API" class="sc-1y9xkzh-6 inGZzq">Calling an API</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#Conclusion" class="sc-1y9xkzh-6 inGZzq">Conclusion</a></li></ul></div><ul class="sc-1y9xkzh-8 kWZBqr"><li class="sc-1y9xkzh-9 kSDgak"><a href="https://auth0.com/blog/node-js-and-express-tutorial-building-and-securing-restful-apis/" target="_blank" rel="noopener" data-element-id="blog-sidebar-ml-recommendation" class="sc-1y9xkzh-10 gUppOI"><h4 class="sc-1y9xkzh-11 iKGOGZ">Recommended for you</h4><br><span>Node.js and Express Tutorial: Building and Securing RESTful APIs</span></a></li><li class="sc-1y9xkzh-9 kSDgak"><div class="sc-1nadncu-0 eSRpoj"><h1>Ready to Try Auth0?</h1><p>Make login our problem, not yours.</p><a data-element-id="blog-sidebar-cta" href="https://auth0.com/signup?promo=sup&amp;place=sidebar&amp;type=grey-banner&amp;text=start-building&amp;origin=blog" target="_blank" rel="noopener noreferrer">Sign up for free </a></div></li></ul></div></aside><main id="post-content" itemprop="articleBody" class="nlufiy-0 jWmJon"><div><blockquote><p>Look for the  emoji if you'd like to skim through the content while focusing on the build steps.</p></blockquote><p><strong>This tutorial demonstrates how to secure a Node.js web application built with the Express framework by implementing user authentication.</strong> You'll enhance a starter Node.js project to practice the following security concepts:</p><ul><li>Add user login and logout.</li><li>Retrieve user information.</li><li>Protect application routes.</li><li>Call protected endpoints from an API.</li></ul><p>This guide uses the <a href="https://github.com/auth0/express-openid-connect" target="_blank" rel="noreferrer noopener">Auth0 Express OpenID Connect library</a> to secure Express web applications. This library provides Node.js developers with an alternative to Passport.js. Express OpenID Connect lets you <strong>add user authentication to Express applications</strong> using security best practices while writing less code.</p><p> If you still need to use Passport.js to secure your Express application, please refer to the <a href="https://auth0.com/blog/create-a-simple-and-secure-node-express-app/" target="_blank" rel="noreferrer noopener">Node.js and Express Authentication Using Passport</a> tutorial.</p><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/starter-node-express-pug-app" alt="Auth0 Express sample app" class=" lightbox-image"></p><p><strong>How does Auth0 work?</strong></p><p>With the help of Auth0, <strong>you don't need to be an expert on identity protocols, such as <a href="https://auth0.com/docs/protocols/protocol-oauth2" target="_blank" rel="noreferrer noopener">OAuth 2.0</a> or <a href="https://auth0.com/docs/protocols/openid-connect-protocol" target="_blank" rel="noreferrer noopener">OpenID Connect</a>, to understand how to secure your web application stack.</strong> You first integrate your application with Auth0. Your application will then redirect users to an Auth0 customizable login page when they need to log in. Once your users log in successfully, Auth0 takes them back to your app, returning <a href="https://auth0.com/docs/tokens/concepts/jwts" target="_blank" rel="noreferrer noopener">JSON Web Tokens (JWTs)</a> with their authentication and user information.</p><blockquote><p> If you are short of time, check out the <a href="https://auth0.com/docs/quickstart/webapp/express" target="_blank" rel="noreferrer noopener">Auth0 Express Quickstart</a> to get up and running with user authentication for Express in just a few minutes.</p></blockquote><h2 id="Get-the-Starter-Application">Get the Starter Application</h2><p>We have created a starter project to help you learn Node.js security concepts through hands-on practice. The starter application uses <a href="https://getbootstrap.com/" target="_blank" rel="noreferrer noopener">Bootstrap</a> with a custom theme to take care of the styling and layout of your application. You can focus on building Express components to secure your application.</p><p> As such, clone the <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>pug<span class="token operator">-</span>sample</code> repository on its <code class=" language-js">starter</code> branch to get started:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">git</span> clone -b starter git@github.com:auth0-blog/auth0-express-pug-sample.git</code></pre><p> Once you clone the repo, make <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>pug<span class="token operator">-</span>sample</code> your current directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token builtin class-name">cd</span> auth0-express-pug-sample</code></pre><p> Install the Node.js project dependencies:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">npm</span> <span class="token function">install</span></code></pre><p> Create a <code class=" language-js"><span class="token punctuation">.</span>env</code> file under the project directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">touch</span> .env</code></pre><p> Populate <code class=" language-js"><span class="token punctuation">.</span>env</code> as follows:</p><pre class=" language-bash"><code class=" language-bash"><span class="token assign-left variable">DEV_PORT</span><span class="token operator">=</span><span class="token number">4041</span>
<span class="token assign-left variable">PROD_PORT</span><span class="token operator">=</span><span class="token number">4040</span></code></pre><p>To streamline your Node.js development workflow, this project uses <a href="https://www.npmjs.com/package/nodemon" target="_blank" rel="noreferrer noopener"><code class=" language-js">nodemon</code></a> to restart the server and <a href="https://auth0.com/blog/create-a-simple-and-stylish-node-express-app/#Add-Live-Reload-to-Express-Using-Browsersync" target="_blank" rel="noreferrer noopener"><code class=" language-js">browser<span class="token operator">-</span>sync</code> to reload the browser</a> whenever relevant source files change.</p><p> Execute the following command to run the Node.js server:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">npm</span> run dev</code></pre><p>You can emulate the live reload behavior of front-end frameworks such as <a href="https://auth0.com/blog/complete-guide-to-react-user-authentication/" target="_blank" rel="noreferrer noopener">React</a> and <a href="https://auth0.com/blog/complete-guide-to-angular-user-authentication/" target="_blank" rel="noreferrer noopener">Angular</a> in Express templates using Browsersync. The browser will refresh automatically whenever the source code changes: for example, when you modify a CSS rule or change the return value of a function.</p><p> Open a separate terminal window and execute the following command to serve the user interface of your Express app:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">npm</span> run ui</code></pre><p>Browsersync automatically opens a new window presenting your application user interface. If it didn't, open <a href="http://localhost:4040/" target="_blank" rel="noreferrer noopener"><code class=" language-js">http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">localhost:4040</span><span class="token regex-delimiter">/</span></span></code></a>.</p><h2 id="Connect-Express-with-Auth0">Connect Express with Auth0</h2><p>The best part of the Auth0 platform is how streamlined it is to get started by following these steps:</p><h3 id="Sign-up-and-create-an-Auth0-Application">Sign up and create an Auth0 Application</h3><div class="sc-1foo5yb-0 eotdrM">If you haven't already, <a target="_blank" href="https://auth0.com/signup?promo=sup&amp;place=in-blog-banner&amp;type=link&amp;text=get-started&amp;origin=blog" class="sc-1foo5yb-1 hEuTqB">sign up for a free Auth0 account </a></div><p>A free account offers you:</p><ul><li>7,000 free active users and unlimited logins.</li><li><a href="https://auth0.com/universal-login" target="_blank" rel="noreferrer noopener">Auth0 Universal Login</a> for Web, iOS &amp; Android.</li><li>Up to 2 <a href="https://auth0.com/docs/identityproviders" target="_blank" rel="noreferrer noopener">social identity providers</a> like Google, GitHub, and Twitter.</li><li>Unlimited <a href="https://auth0.com/docs/rules/current" target="_blank" rel="noreferrer noopener">Serverless Rules</a> to customize and extend Auth0's capabilities.</li></ul><p>During the sign-up process, you create something called an <a href="https://auth0.com/docs/getting-started/the-basics#account-and-tenants" target="_blank" rel="noreferrer noopener"><strong>Auth0 Tenant</strong></a>, representing the product or service to which you are adding authentication.</p><p> Once you sign in, Auth0 takes you to the <a href="https://manage.auth0.com/" target="_blank" rel="noreferrer noopener">Dashboard</a>. In the left sidebar menu, click on <a href="https://manage.auth0.com/#/applications" target="_blank" rel="noreferrer noopener">"Applications"</a>.</p><p> Then, click the "Create Application" button. A modal opens up with a form to provide a name for the application and choose its type.</p><ul><li><strong>Name:</strong></li></ul><pre class=" language-bash"><code class=" language-bash">Auth0 Express Sample</code></pre><ul><li><strong>Application Type:</strong> Regular Web Applications</li></ul><p> Click the "Create" button to complete the process. Your Auth0 application page loads up.</p><p>In the next step, you'll learn how to help Express and Auth0 communicate.</p><details open=""><summary><strong>What's the relationship between Auth0 Tenants and Auth0 Applications?</strong>
</summary><p>Let's say that you have a photo-sharing Express app called "Noddit". You then would create an <strong>Auth0 tenant</strong> called <code class=" language-js">noddit</code>.</p><p>Now, say that Noddit is available on <strong>three platforms</strong>: <strong>web</strong> as a single-page application and a native mobile app for <strong>Android</strong> and <strong>iOS</strong>. If each platform needs authentication, you need to create <strong>three Auth0 applications</strong> to provide the product with everything it needs to authenticate users through that platform.</p></details><h3 id="Create-a-communication-bridge-between-Express-and-Auth0">Create a communication bridge between Express and Auth0</h3><p>When you use Auth0, you don't have to build login forms. Auth0 offers a <a href="https://auth0.com/docs/hosted-pages/login" target="_blank" rel="noreferrer noopener">Universal Login</a> page to reduce the overhead of adding and managing authentication.</p><p><strong>How does <a href="https://auth0.com/docs/hosted-pages/login#how-does-universal-login-work" target="_blank" rel="noreferrer noopener">Universal Login work</a>?</strong></p><p>Your Express application will redirect users to Auth0 whenever they trigger an authentication request. Auth0 will present them with a login page. Once they log in, Auth0 will redirect them back to your Express application. For that redirecting to happen securely, you must specify in your <strong>Auth0 Application Settings</strong> the URLs to which Auth0 can redirect users once it authenticates them.</p><p> As such, click on the "Settings" tab of your Auth0 Application page and fill in the following values:</p><p> <strong>Allowed Callback URLs</strong></p><pre class=" language-bash"><code class=" language-bash">http://localhost:4040/callback</code></pre><p>The above value is the URL that Auth0 can use to redirect your users <strong>after they successfully log in</strong>.</p><p> <strong>Allowed Logout URLs</strong></p><pre class=" language-bash"><code class=" language-bash">http://localhost:4040</code></pre><p>The above value is the URL that Auth0 can use to redirect your users <strong>after they log out</strong>.</p><p> <strong>Scroll down and click the "Save Changes" button.</strong></p><p> <strong>Do not close this page yet</strong>. You'll need some of its information in the next section.</p><h3 id="Add-the-Auth0-configuration-variables-to-Express">Add the Auth0 configuration variables to Express</h3><p>From the Auth0 Application Settings page, you need the Auth0 Domain and Client ID values to allow your Express application to use the communication bridge you created.</p><details open=""><summary><strong>What exactly is an Auth0 Domain and an Auth0 Client ID?</strong>
</summary><p><strong>Domain</strong></p><p>When you created a new Auth0 account, Auth0 asked to pick a name for your Tenant. This name, appended with <code class=" language-js">auth0<span class="token punctuation">.</span>com</code>, is your Auth0 Domain. It's the base URL that you will use to access the Auth0 APIs and the URL where you'll redirect users to log in.</p><blockquote><p>You can also use <a href="https://auth0.com/docs/getting-started/the-basics#custom-domains" target="_blank" rel="noreferrer noopener">custom domains</a> to allow Auth0 to do the authentication heavy lifting for you without compromising your branding experience.</p></blockquote><p><strong>Client ID</strong></p><p><a href="https://auth0.com/docs/getting-started/the-basics" target="_blank" rel="noreferrer noopener">Each application is assigned a Client ID upon creation</a>, which is an alphanumeric string, and it's the unique identifier for your application (such as <code class=" language-js">q8fij2iug0CmgPLfTfG1tZGdTQyGaTUA</code>). You cannot modify the Client ID. You will use the Client ID to identify the Auth0 Application to which the Auth0 Express SDK needs to connect.</p><p><strong>Warning:</strong> Another critical piece of information present in the "Settings" is the <strong>Client Secret</strong>. This secret <a href="https://auth0.com/docs/applications/how-to-rotate-client-secret" target="_blank" rel="noreferrer noopener">protects your resources by only granting tokens to requestors if they're authorized</a>. Think of it as your application's password, which must be kept confidential at all times. If anyone gains access to your Client Secret, they can impersonate your application and access protected resources.</p></details><p> Open the <code class=" language-js"><span class="token punctuation">.</span>env</code> file from your <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>pug<span class="token operator">-</span>sample</code> project directory and update it as follows:</p><pre class=" language-bash"><code class=" language-bash"><span class="token assign-left variable">DEV_PORT</span><span class="token operator">=</span><span class="token number">4041</span>
<span class="token assign-left variable">PROD_PORT</span><span class="token operator">=</span><span class="token number">4040</span>
<span class="token assign-left variable">AUTH0_ISSUER_BASE_URL</span><span class="token operator">=</span>https://<span class="token operator">&lt;</span>AUTH0_DOMAIN<span class="token operator">&gt;</span>/
<span class="token assign-left variable">AUTH0_CLIENT_ID</span><span class="token operator">=</span></code></pre><p> For the <code class=" language-js"><span class="token constant">AUTH0_ISSUER_BASE_URL</span></code> value, <code class=" language-js"><span class="token operator">&lt;</span><span class="token constant">AUTH0_DOMAIN</span><span class="token operator">&gt;</span></code> is your <strong>Domain</strong> value from the "Settings". <strong>Ensure that you keep the trailing slash for this value</strong>.</p><p> <code class=" language-js"><span class="token constant">AUTH0_CLIENT_ID</span></code> is your <strong>Client ID</strong> from the "Settings".</p><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/auth0-application-settings-for-express-openid-connect" alt="Auth0 Application Settings from the Auth0 Dashboard" class=" lightbox-image"></p><p>These variables let your Express application identify itself as an authorized party to interact with the Auth0 authentication server.</p><h3 id="Auth0-and-Express-connection-set">Auth0 and Express connection set</h3><p>You have completed setting up an authentication service that your Express application can consume. All that is left is for you to continue building up the starter project throughout this guide by implementing components to trigger and manage the authentication flow.</p><p>Feel free to dive deeper into the <a href="https://auth0.com/docs/getting-started" target="_blank" rel="noreferrer noopener">Auth0 Documentation</a> to learn more about how Auth0 helps you save time on implementing and managing identity.</p><h2 id="Set-Up-Express-OpenID-Connect">Set Up Express OpenID Connect</h2><p> You need to follow these steps to integrate the Express OpenID Connect library with your Express application.</p><h3 id="Install-Express-OpenID-Connect">Install Express OpenID Connect</h3><p> Execute the following command:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">npm</span> <span class="token function">install</span> express-openid-connect</code></pre><h3 id="Configure-Express-OpenID-Connect">Configure Express OpenID Connect</h3><p> Open the <code class=" language-js"><span class="token punctuation">.</span>env</code> file once again and add a <code class=" language-js"><span class="token constant">BASE_URL</span></code> and <code class=" language-js"><span class="token constant">SESSION_SECRET</span></code> value to it:</p><pre class=" language-bash"><code class=" language-bash"><span class="token assign-left variable">DEV_PORT</span><span class="token operator">=</span><span class="token number">4041</span>
<span class="token assign-left variable">PROD_PORT</span><span class="token operator">=</span><span class="token number">4040</span>
<span class="token assign-left variable">AUTH0_ISSUER_BASE_URL</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">&gt;</span>
<span class="token assign-left variable">AUTH0_CLIENT_ID</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">&gt;</span>
<span class="token assign-left variable">BASE_URL</span><span class="token operator">=</span>http://localhost:4040
<span class="token assign-left variable">SESSION_SECRET</span><span class="token operator">=</span></code></pre><p>The <code class=" language-js"><span class="token constant">BASE_URL</span></code> value is the URL where your application is served.</p><p>The <code class=" language-js"><span class="token constant">SESSION_SECRET</span></code> value is the secret used to sign the session ID cookie, which can be either a string for a single secret or an array of multiple secrets.</p><p> Execute the following command to generate a suitable string for the session secret:</p><pre class=" language-bash"><code class=" language-bash">node -e <span class="token string">"console.log(crypto.randomBytes(32).toString('hex'))"</span></code></pre><p> Copy and paste the output of the command above as the value for <code class=" language-js"><span class="token constant">SESSION_SECRET</span></code> in <code class=" language-js"><span class="token punctuation">.</span>env</code>.</p><p> For your application to recognize these new environment variables, you need to restart the Node.js server. Locate the terminal window where you executed <code class=" language-js">npm run dev</code> earlier, stop it, and run it again.</p><p>User authentication is a mechanism to monitor who is accessing your application and control what they can do. For example, you can prevent users who have not logged in from accessing parts of your application. In that scenario, Auth0 can act as your <em>application bouncer</em>.</p><blockquote><p>A <a href="https://www.lexico.com/en/definition/bouncer" target="_blank" rel="noreferrer noopener">bouncer</a> is a person employed by a nightclub or similar establishment to prevent troublemakers from entering or to eject them from the premises. Express security is not too different from nightclub security.</p></blockquote><p>If users want to enter a protected route from your application, Auth0 will stop them and ask them to present their credentials. If Auth0 can verify who they are and that they are supposed to go in there, Auth0 will let them in. Otherwise, Auth0 will take them back to a public application route.</p><p>Now, it's important to reiterate that the authentication process won't happen within your application layer. Your Express application will redirect your users to the <a href="https://auth0.com/docs/universal-login" target="_blank" rel="noreferrer noopener">Auth0 Universal Login</a> page, where Auth0 asks for credentials and redirects the user back to your application with the result of the authentication process.</p><p>The Express OpenID Connect library provides the <code class=" language-js">auth</code> router to attach authentication routes to your application. You won't have to implement <code class=" language-js"><span class="token operator">/</span>login</code> or <code class=" language-js"><span class="token operator">/</span>logout</code> controllers, Express OpenID Connect takes does that for you.</p><p>You now need to initialize, configure, and integrate <code class=" language-js">express<span class="token operator">-</span>openid<span class="token operator">-</span>connect</code> with your Express application.</p><p> Open <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> and update the <code class=" language-js">Required External Modules</code> section to import <code class=" language-js">auth</code>:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Required External Modules
 */</span>

<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> auth <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-openid-connect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> Then, update the <code class=" language-js">App Configuration</code> section to initialize and use <code class=" language-js">auth</code> as an Express middleware function:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 *  App Configuration
 */</span>

app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'views'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span> <span class="token string">'pug'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    issuerBaseURL<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">AUTH0_ISSUER_BASE_URL</span><span class="token punctuation">,</span>
    baseURL<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>
    clientID<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">AUTH0_CLIENT_ID</span><span class="token punctuation">,</span>
    secret<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SESSION_SECRET</span><span class="token punctuation">,</span>
    authRequired<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    auth0Logout<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You are adding two additional properties, <code class=" language-js">authRequired</code> and <code class=" language-js">auth0Logout</code>. What are these properties doing?</p><p><code class=" language-js">authRequired</code> is a boolean property that configures Express OpenID Connect to require authentication for all routes when you set it to <code class=" language-js"><span class="token boolean">true</span></code>. For this project, you'll have a mix of public and protected routes. As such, you set this property to <code class=" language-js"><span class="token boolean">false</span></code>.</p><p><code class=" language-js">auth0Logout</code> is another boolean value that enables the Auth0 logout feature, which lets you log out a user of the Auth0 session. When implementing logout functionality in an application, there are typically three sessions layers you need to consider:</p><ul><li>Application Session Layer</li><li>Auth0 Session Layer</li><li>Identity Provider Session Layer</li></ul><p>For example, if one of your users logged in using Google, you can configure your Auth0 authentication service to log out the user from the application, from the Auth0 session, or from Google itself. Check out the <a href="https://auth0.com/docs/logout" target="_blank" rel="noreferrer noopener">"Logout" document</a> to learn more details about the architecture of user logout.</p><p>For this application, you'll log out users from the Auth0 session layer.</p><p>The Express OpenID Connect library is all set up. You are ready to implement user authentication in the next section.</p><h2 id="Add-User-Authentication">Add User Authentication</h2><p>Throughout this guide, you'll use <a href="https://pugjs.org/language/mixins.html" target="_blank" rel="noreferrer noopener">Pug mixins</a> to implement the application's user interface (UI) following a component-based architecture. Each mixin will act as a UI component, becoming a reusable piece that you can create and maintain in isolation.</p><p>You need to create UI components for your users to trigger authentication events: login, logout, and sign up.</p><p>Express OpenID Connect creates an <a href="https://auth0.github.io/express-openid-connect/interfaces/requestcontext.html" target="_blank" rel="noreferrer noopener"><code class=" language-js">oidc</code> namespace</a> in your application's <code class=" language-js">req</code> object. In this namespace, the library stores authentication methods and data, such as a <code class=" language-js">user</code> object to hold user profile information and a <code class=" language-js">login</code> method to customize the user login experience. You'll explore the <code class=" language-js">oidc</code> object in the next sections.</p><h3 id="Create-a-login-button">Create a login button</h3><p> Create a <code class=" language-js">login<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> file under the <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span></code> directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">touch</span> src/components/login-button.pug</code></pre><p> Create a <code class=" language-js">mixin</code> to represent a login button component in <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span>login<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> like so:</p><pre class=" language-pug"><code class=" language-pug"><span class="token mixin"><span class="token keyword">mixin</span> login-<span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token tag">button<span class="token attributes"><span class="token punctuation">(</span>
    <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn btn-primary btn-block"</span></span><span class="token punctuation">,</span>
    <span class="token attr-name">onclick</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"window.location='/login'"</span></span>
  <span class="token punctuation">)</span></span></span> <span class="token plain-text">Log In</span></code></pre><p>Under the hood, Express OpenID Connect created a <code class=" language-js"><span class="token operator">/</span>login</code> route for your Express application. When the user clicks on this button, your Express application will prompt the user to authenticate and provide consent for your Express application to access certain data on behalf of that user. In your current architecture, this means that your Express application redirects the user to the Auth0 Universal Login page to carry out the authentication process. You'll see this in action in the next sections.</p><p>You can customize the login experience further by using the <a href="https://auth0.github.io/express-openid-connect/interfaces/responsecontext.html#login" target="_blank" rel="noreferrer noopener"><code class=" language-js">req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> method in an Express controller. For example, you can pass that method options to redirect users to an Auth0 Universal Login page optimized for signing up for your Express application.</p><h3 id="Create-a-sign-up-button">Create a sign-up button</h3><p>You can make users <a href="https://auth0.com/docs/universal-login/new#signup" target="_blank" rel="noreferrer noopener">land directly on a sign-up page</a> instead of a login page by creating a <code class=" language-js"><span class="token operator">/</span>sign<span class="token operator">-</span>up</code> route controller.</p><p> To start, open the <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> file. Locate the <code class=" language-js">Routes Definitions</code> section. Under this section, there are different subsections that define routes for each feature of your Expres web application. Locate the <code class=" language-js"><span class="token operator">&gt;</span> Authentication</code> subsection, and update it as follows:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Routes Definitions
 */</span>

<span class="token comment">// &gt; Other route subsections...</span>

<span class="token comment">// &gt; Authentication</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/sign-up'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    authorizationParams<span class="token operator">:</span> <span class="token punctuation">{</span>
      screen_hint<span class="token operator">:</span> <span class="token string">'signup'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You create a <code class=" language-js"><span class="token operator">/</span>sign<span class="token operator">-</span>up</code> route controller, where you access the <a href="https://auth0.github.io/express-openid-connect/interfaces/responsecontext.html#login" target="_blank" rel="noreferrer noopener"><code class=" language-js">res<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> method. This method takes some <a href="https://auth0.github.io/express-openid-connect/interfaces/loginoptions.html" target="_blank" rel="noreferrer noopener"><code class=" language-js">LoginOptions</code></a> to customize the behavior of the user login experience.</p><p>Here, you override the default <a href="https://auth0.github.io/express-openid-connect/interfaces/configparams.html#authorizationparams" target="_blank" rel="noreferrer noopener"><code class=" language-js">authorizationParams</code></a>, which are URL parameters that Express OpenID Connect uses when redirecting users to Auth0 to log in.</p><p>You can pass new values to change what the Auth0 authorization server returns depending on your use case. In your <code class=" language-js"><span class="token operator">/</span>sign<span class="token operator">-</span>up</code> controller, you specify the <code class=" language-js">screen_hint<span class="token operator">=</span>signup</code> property as an authorization parameter to take the users to a sign-up form.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token punctuation">{</span>
  authorizationParams<span class="token operator">:</span> <span class="token punctuation">{</span>
    screen_hint<span class="token operator">:</span> <span class="token string">"signup"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre><p>Now, create a sign-up button to trigger this event by requesting the <code class=" language-js"><span class="token operator">/</span>sign<span class="token operator">-</span>up</code> route.</p><p> Create a <code class=" language-js">signup<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> file under the <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span></code> directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">touch</span> src/components/signup-button.pug</code></pre><p> Populate <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span>signup<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> like so to define a <code class=" language-js">signup<span class="token operator">-</span>button</code> mixin:</p><pre class=" language-pug"><code class=" language-pug"><span class="token mixin"><span class="token keyword">mixin</span> signup-<span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token tag">button<span class="token attributes"><span class="token punctuation">(</span>
    <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn btn-primary btn-block"</span></span><span class="token punctuation">,</span>
    <span class="token attr-name">onclick</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"window.location='/sign-up'"</span></span>
  <span class="token punctuation">)</span></span></span> <span class="token plain-text">Sign Up</span></code></pre><p>Using the Signup feature requires you to enable the <a href="https://auth0.com/docs/universal-login/new" target="_blank" rel="noreferrer noopener">Auth0 New Universal Login Experience</a> in your tenant.</p><p> Open the <a href="https://manage.auth0.com/#/login_settings" target="_blank" rel="noreferrer noopener">Universal Login section</a> of the Auth0 Dashboard and choose the "New" option under the "Experience" subsection.</p><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/experience-picker" alt="Auth0 Universal Login Experience options" class=" lightbox-image"></p><p> <strong>Scroll down and click on the "Save Changes" button.</strong></p><p>The difference between the log-in and sign-up user experience will be more evident once you integrate those components with your Express application and see them in action. You'll do that in the next sections.</p><h3 id="Create-a-logout-button">Create a logout button</h3><p> Create a <code class=" language-js">logout<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> file under the <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span></code> directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">touch</span> src/components/logout-button.pug</code></pre><p> Populate <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span>logout<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> like so:</p><pre class=" language-pug"><code class=" language-pug"><span class="token mixin"><span class="token keyword">mixin</span> logout-<span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token tag">button<span class="token attributes"><span class="token punctuation">(</span>
    <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn btn-danger btn-block"</span></span><span class="token punctuation">,</span>
    <span class="token attr-name">onclick</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"window.location='/logout'"</span></span>
  <span class="token punctuation">)</span></span></span> <span class="token plain-text">Log Out</span></code></pre><p>The <code class=" language-js"><span class="token operator">/</span>logout</code> route created by Express OpenID Connect calls the <a href="https://auth0.github.io/express-openid-connect/interfaces/responsecontext.html#logout" target="_blank" rel="noreferrer noopener"><code class=" language-js">req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method</a> under the hood. This method clears the application session and redirects to the Auth0 <code class=" language-js"><span class="token operator">/</span>v2<span class="token operator">/</span>logout</code> endpoint to clear the Auth0 session. As with the login method, you can pass <a href="https://auth0.github.io/express-openid-connect/interfaces/logoutoptions.html" target="_blank" rel="noreferrer noopener"><code class=" language-js">LogoutOptions</code></a> to <code class=" language-js">req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to customize its behavior.</p><p>Here, you pass the <code class=" language-js">returnTo</code> option to specify the URL where Auth0 should redirect your users after they logout. Right now, you are working locally, and your Auth0 application's "Allowed Logout URLs" point to <code class=" language-js">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">4040</span></code>.</p><p>However, <strong>if you were to deploy your Express application to production</strong>, you need to add the production logout URL to the "Allowed Logout URLs" list and ensure that Auth0 redirects your users to that production URL and not <code class=" language-js">localhost</code>.</p><blockquote><p><a href="https://auth0.com/docs/logout" target="_blank" rel="noreferrer noopener">Read more about how Logout works at Auth0</a>.</p></blockquote><h3 id="Integrate-the-login-and-logout-buttons">Integrate the login and logout buttons</h3><p>Let's wrap the <code class=" language-js">login<span class="token operator">-</span>button</code> and <code class=" language-js">logout<span class="token operator">-</span>button</code> mixins into a mixin called <code class=" language-js">authentication<span class="token operator">-</span>button</code>.</p><p> Create an <code class=" language-js">authentication<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> file under the <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span></code> directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">touch</span> src/components/authentication-button.pug</code></pre><p> Populate <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span>authentication<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> with the following code:</p><pre class=" language-pug"><code class=" language-pug"><span class="token keyword">include ./login-button</span>
<span class="token keyword">include ./logout-button</span>

<span class="token mixin"><span class="token keyword">mixin</span> authentication-<span class="token function">button</span><span class="token punctuation">(</span>isAuthenticated<span class="token punctuation">)</span></span>
  <span class="token flow-control"><span class="token branch keyword">if</span> isAuthenticated</span>
    <span class="token mixin"><span class="token name function">+logout</span><span class="token operator">-</span>button</span>
  <span class="token flow-control"><span class="token branch keyword">else</span></span>
    <span class="token mixin"><span class="token name function">+login</span><span class="token operator">-</span>button</span></code></pre><p><code class=" language-js">isAuthenticated</code> is a boolean value exposed by the <code class=" language-js">req<span class="token punctuation">.</span>oidc</code> object. Its value is <code class=" language-js"><span class="token boolean">true</span></code> when Auth0 has authenticated the user and <code class=" language-js"><span class="token boolean">false</span></code> when it hasn't.</p><p>There are some advantages to using this <code class=" language-js">authentication<span class="token operator">-</span>button</code> mixin wrapper:</p><p><strong>You can build flexible interfaces.</strong> <code class=" language-js">authentication<span class="token operator">-</span>button</code> serves as a "log in/log out" switch that you can put anywhere you need that switch functionality. However, you still have separate <code class=" language-js">login<span class="token operator">-</span>button</code> and <code class=" language-js">logout<span class="token operator">-</span>button</code> mixins for cases when you need their functionality in isolation. For example, you may have a logout button on a page that only authenticated users can see.</p><p><strong>You can build extensible interfaces.</strong> You can easily swap the <code class=" language-js">login<span class="token operator">-</span>button</code> mixin with the <code class=" language-js">signup<span class="token operator">-</span>button</code> mixin in <code class=" language-js">authentication<span class="token operator">-</span>button</code> to create a "sign up/log out" switch. You could also wrap the "sign up/log out" switch in a <code class=" language-js"><span class="token keyword">new</span><span class="token operator">-</span>authentication<span class="token operator">-</span>button</code> mixin.</p><p><strong>You can build declarative interfaces.</strong> Using <code class=" language-js">authentication<span class="token operator">-</span>button</code>, you can add login and logout functionality to a navigation bar component, for example, without thinking about the implementation details of how the authentication switch works.</p><p> With that in mind, create an <code class=" language-js">auth<span class="token operator">-</span>nav<span class="token punctuation">.</span>pug</code> file under the <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span></code> directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">touch</span> src/components/auth-nav.pug</code></pre><p> Populate <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span>auth<span class="token operator">-</span>nav<span class="token punctuation">.</span>pug</code> like so:</p><pre class=" language-jsx"><code class=" language-jsx">include <span class="token punctuation">.</span><span class="token operator">/</span>authentication<span class="token operator">-</span>button

mixin auth<span class="token operator">-</span><span class="token function">nav</span><span class="token punctuation">(</span>isAuthenticated<span class="token punctuation">)</span>
  <span class="token function">div</span><span class="token punctuation">(</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"navbar-nav ml-auto"</span><span class="token punctuation">)</span>
    <span class="token operator">+</span>authentication<span class="token operator">-</span><span class="token function">button</span><span class="token punctuation">(</span>isAuthenticated<span class="token punctuation">)</span></code></pre><p><code class=" language-js">isAuthenticated</code> makes another appearance. Where is that value coming from? You'll find out soon!</p><p> Finally, open <code class=" language-js">nav<span class="token operator">-</span>bar<span class="token punctuation">.</span>pug</code> under the <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span></code> directory and update it like so:</p><pre class=" language-pug"><code class=" language-pug"><span class="token keyword">include ./main-nav</span>
<span class="token keyword">include ./auth-nav</span>

<span class="token mixin"><span class="token keyword">mixin</span> nav-<span class="token function">bar</span><span class="token punctuation">(</span>activeRoute<span class="token punctuation">)</span></span>
  <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"nav-container mb-3"</span></span><span class="token punctuation">)</span></span></span>
    <span class="token tag">nav<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"navbar navbar-expand-md navbar-light bg-light"</span></span><span class="token punctuation">)</span></span></span>
      <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"container"</span></span><span class="token punctuation">)</span></span></span>
        <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"navbar-brand logo"</span></span><span class="token punctuation">)</span></span></span>
        <span class="token mixin"><span class="token name function">+main</span><span class="token operator">-</span><span class="token function">nav</span><span class="token punctuation">(</span>activeRoute<span class="token punctuation">)</span></span>
        <span class="token mixin"><span class="token name function">+auth</span><span class="token operator">-</span><span class="token function">nav</span><span class="token punctuation">(</span>isAuthenticated<span class="token punctuation">)</span></span></code></pre><p>By having different types of navigation bar subcomponents, you can extend each as you need without reopening and modifying the main <code class=" language-js">nav<span class="token operator">-</span>bar</code> component.</p><p>Once again, <code class=" language-js">isAuthenticated</code> shows up. The Express OpenID Connect library defines this value in the <code class=" language-js">req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">isAuthenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method. Its return value is essential for authentication to work correctly in your Express app.</p><p><strong>How do you pass data from a controller to a template in Express?</strong></p><p>In Express web applications, you have access to a one-way data flow from route controller to template. As such, each route controller that renders a template that depends on <code class=" language-js">isAuthenticated</code> must pass down this value.</p><p>However, passing a value manually to a template on each route controller is not only tedious but error-prone. What you can do instead is to make the value available as a local value to all Pug templates.</p><p> Update the <code class=" language-js">App Configuration</code> section in <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> as follows:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 *  App Configuration
 */</span>

app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'views'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span> <span class="token string">'pug'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    issuerBaseURL<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">AUTH0_ISSUER_BASE_URL</span><span class="token punctuation">,</span>
    baseURL<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>
    clientID<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">AUTH0_CLIENT_ID</span><span class="token punctuation">,</span>
    secret<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SESSION_SECRET</span><span class="token punctuation">,</span>
    authRequired<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    auth0Logout<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span>locals<span class="token punctuation">.</span>isAuthenticated <span class="token operator">=</span> req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">isAuthenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You define <code class=" language-js">res<span class="token punctuation">.</span>locals</code> within a middleware function handler. This object lets you pass data around your Express application. All of your Pug templates can access its properties (such as <code class=" language-js">isAuthenticated</code>) directly. Since <code class=" language-js">req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">isAuthenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is a method, you have to execute it to get its value.</p><p>There is one caveat about using <code class=" language-js">res<span class="token punctuation">.</span>locals</code>: these values only live within an individual request. As soon as the request-response cycle is complete, the values are gone. This isn't a problem for your application since each time a user requests a route from the browser, the request-response cycle starts all over again.</p><blockquote><p>Read <a href="https://stackoverflow.com/a/52518406" target="_blank" rel="noreferrer noopener">more details about <code class=" language-js">res<span class="token punctuation">.</span>locals</code> from StackOverflow</a>.</p></blockquote><p> <strong>Go ahead and try to log in</strong>. Your Express application redirects you to the Auth0 Universal Login page. You can use a form to log in with a username and password or a social identity provider like Google. Notice that this login page also gives you the option to sign up.</p><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/new-auth0-universal-login-experience-form" alt="New Auth0 Universal Login Experience Form" class=" lightbox-image"></p><details><summary><p><strong>Experiment: Use the <code class=" language-js">signup<span class="token operator">-</span>button</code> mixin</strong> </p></summary><p>Swap the <code class=" language-js">login<span class="token operator">-</span>button</code> mixin with the <code class=" language-js">signup<span class="token operator">-</span>button</code> mixin in the conditional defined in the <code class=" language-js">authentication<span class="token operator">-</span>button</code> mixin:</p><pre class=" language-pug"><code class=" language-pug"><span class="token keyword">include ./signup-button</span>
<span class="token keyword">include ./logout-button</span>

<span class="token mixin"><span class="token keyword">mixin</span> authentication-<span class="token function">button</span><span class="token punctuation">(</span>isAuthenticated<span class="token punctuation">)</span></span>
  <span class="token flow-control"><span class="token branch keyword">if</span> isAuthenticated</span>
    <span class="token mixin"><span class="token name function">+logout</span><span class="token operator">-</span>button</span>
  <span class="token flow-control"><span class="token branch keyword">else</span></span>
    <span class="token mixin"><span class="token name function">+signup</span><span class="token operator">-</span>button</span></code></pre><p>When you click the "Sign Up" button, you'll land on a page with language optimized to encourage you to sign up for your Express application.</p><p>Try this out!</p><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/new-auth0-universal-login-experience-signup-page" alt="New Auth0 Universal Login Experience Signup Page" class=" lightbox-image"></p><p>Once you complete this experiment, swap back <code class=" language-js">signup<span class="token operator">-</span>button</code> with <code class=" language-js">login<span class="token operator">-</span>button</code> to continue with the rest of this guide:</p><pre class=" language-pug"><code class=" language-pug"><span class="token keyword">include ./login-button</span>
<span class="token keyword">include ./logout-button</span>

<span class="token mixin"><span class="token keyword">mixin</span> authentication-<span class="token function">button</span><span class="token punctuation">(</span>isAuthenticated<span class="token punctuation">)</span></span>
  <span class="token flow-control"><span class="token branch keyword">if</span> isAuthenticated</span>
    <span class="token mixin"><span class="token name function">+logout</span><span class="token operator">-</span>button</span>
  <span class="token flow-control"><span class="token branch keyword">else</span></span>
    <span class="token mixin"><span class="token name function">+login</span><span class="token operator">-</span>button</span></code></pre></details><blockquote><p>You can <a href="https://auth0.com/docs/universal-login/customization-new" target="_blank" rel="noreferrer noopener">customize the appearance of New Universal Login pages</a>. You can also override any text in the New Experience using the <a href="https://auth0.com/docs/universal-login/text-customization" target="_blank" rel="noreferrer noopener">Text Customization API</a>.</p></blockquote><p> Click on the <a href="http://localhost:4040/profile" target="_blank" rel="noreferrer noopener">Profile</a> tab and then click on the "Log Out" button.</p><p>Notice that Express logged you out, but instead of taking you back to the <code class=" language-js"><span class="token operator">/</span>profile</code> route, it took you back to the <code class=" language-js"><span class="token operator">/</span></code> route, the home page.</p><p> Click on the <a href="http://localhost:4040/profile" target="_blank" rel="noreferrer noopener">Profile</a> tab and now click on the "Log In" button.</p><p>This time, Express takes you again back to the home page, <code class=" language-js"><span class="token operator">/</span></code> after you log in. As a user, you would expect to access the <code class=" language-js"><span class="token operator">/</span>profile</code> page after you log in, right? After all, your authentication system is acting like a bouncer. The bouncer doesn't take people back to the nightclub entrance after they present their ID. The bouncer lets them pass through and access the VIP lounge or whatever room the bouncer is protecting.</p><p><strong>Why is this home page redirect happening?</strong></p><p>This Express web app is using static routes to render its user interface. You map a user interface action with a server endpoint or controller. This mapping is hard-coded so far.</p><p>The <code class=" language-js"><span class="token operator">/</span>login</code> route controller that the Express OpenID Connect library created for you has a hard-coded value for the path to which Auth0 should return users after they log in. That default value is the root of your server URL, <code class=" language-js"><span class="token operator">/</span></code>.</p><p>However, what if the <code class=" language-js"><span class="token operator">/</span>profile</code> page had both public and protected resources? In a scenario like that, anyone can visit the <code class=" language-js"><span class="token operator">/</span>profile</code> page to read its public information. Then, users can log in to read protected information. The best user experience is for the users to return to the <code class=" language-js"><span class="token operator">/</span>profile</code> page after they log in, not the home page.</p><p>One way to fix this home-page redirect is to create a dedicated route for each type of login and logout:</p><pre class=" language-bash"><code class=" language-bash">GET /sign-up-profile

GET /sign-up-external-api

GET /login-profile

GET /login-external-api

GET /logout-profile

GET /logout-external-api</code></pre><p>However, this method won't scale well at all. Imagine if you had more than 10 different pages that require that smooth login experience.</p><p>It would be better to create a single dynamic route that can handle different "types" of login and logout actions:</p><pre class=" language-bash"><code class=" language-bash">GET /sign-up/:page

GET /login/:page

GET /logout/:page</code></pre><blockquote><p>Since the <code class=" language-js"><span class="token operator">/</span>sign<span class="token operator">-</span>up</code> route behaves very much like the <code class=" language-js"><span class="token operator">/</span>login</code> route, you are enhancing that route too  in case that you want to use the "Sign Up" button in your application.</p></blockquote><p>Then you could take that <code class=" language-js"><span class="token operator">:</span>page</code> parameter and use it to tell Auth0 to return users to <code class=" language-js">serverUrl<span class="token operator">/</span>page</code> after they log in or log out.</p><p>To implement these new authentication route controllers easily, you can leverage the <code class=" language-js">activeRoute</code> property that you are passing from your route controllers to your templates. Take a look at the <code class=" language-js"><span class="token operator">/</span>profile</code> route controller, for example:</p><pre class=" language-javascript"><code class=" language-javascript">app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/profile'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'profile'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> activeRoute<span class="token operator">:</span> req<span class="token punctuation">.</span>originalUrl <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You pass down this <code class=" language-js"><span class="token punctuation">{</span> activeRoute<span class="token operator">:</span> req<span class="token punctuation">.</span>originalUrl <span class="token punctuation">}</span></code> object in all route controllers. You recently learned how to leverage <code class=" language-js">res<span class="token punctuation">.</span>locals</code> to make the authentication status of the user available to your whole Express application. You can do the same for the <code class=" language-js">activeRoute</code> property.</p><p> The steps that follow will show you how to create dynamic authentication routes. However, if you want Express to redirect all users who log out to the home page, you can leave your application as it is.</p><p> Update the <code class=" language-js">App Configuration</code> section in <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> as follows:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 *  App Configuration
 */</span>

app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"views"</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"views"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"view engine"</span><span class="token punctuation">,</span> <span class="token string">"pug"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span>locals<span class="token punctuation">.</span>isAuthenticated <span class="token operator">=</span> req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">isAuthenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span>locals<span class="token punctuation">.</span>activeRoute <span class="token operator">=</span> req<span class="token punctuation">.</span>originalUrl<span class="token punctuation">;</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You now define another local variable that all Pug templates can access: <code class=" language-js">res<span class="token punctuation">.</span>locals<span class="token punctuation">.</span>activeRoute</code>. You no longer need to pass <code class=" language-js">activeRoute</code> down to your templates from each controller.</p><p> Locate the <code class=" language-js">Routes Definitions</code> section in <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code>. Update the <code class=" language-js"><span class="token operator">&gt;</span> Home</code>, <code class=" language-js"><span class="token operator">&gt;</span> Profile</code>, and <code class=" language-js"><span class="token operator">&gt;</span> External <span class="token constant">API</span></code> subsections as follows:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Routes Definitions
 */</span>

<span class="token comment">// &gt; Home</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &gt; Profile</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/profile'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'profile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &gt; External API</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/external-api'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'external-api'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> Now, you need to create the <code class=" language-js">sign<span class="token operator">-</span>up<span class="token operator">/</span><span class="token operator">:</span>page</code>, <code class=" language-js">login<span class="token operator">/</span><span class="token operator">:</span>page</code> and <code class=" language-js">logout<span class="token operator">/</span><span class="token operator">:</span>page</code> route controllers. Head back to the <code class=" language-js">Routes Definitions</code> section in <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code>. Update the <code class=" language-js"><span class="token operator">&gt;</span> Authentication</code> subsection as follows:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Routes Definitions
 */</span>

<span class="token comment">// &gt; Authentication</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/sign-up/:page'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  res<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    returnTo<span class="token operator">:</span> page<span class="token punctuation">,</span>
    authorizationParams<span class="token operator">:</span> <span class="token punctuation">{</span>
      screen_hint<span class="token operator">:</span> <span class="token string">'signup'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/login/:page'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  res<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    returnTo<span class="token operator">:</span> page<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/logout/:page'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  res<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    returnTo<span class="token operator">:</span> page<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now, you need to update your login and logout buttons to use these custom route controllers instead of the default ones created by Express OpenID Connect.</p><p> Update <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span>signup<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> as follows:</p><pre class=" language-pug"><code class=" language-pug"><span class="token mixin"><span class="token keyword">mixin</span> signup-<span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token tag">button<span class="token attributes"><span class="token punctuation">(</span>
    <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn btn-primary btn-block"</span></span><span class="token punctuation">,</span>
    <span class="token attr-name">onclick</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">window.location='/sign-up/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>activeRoute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span></span>
  <span class="token punctuation">)</span></span></span> <span class="token plain-text">Sign Up</span></code></pre><p> Update <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span>login<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> as follows:</p><pre class=" language-pug"><code class=" language-pug"><span class="token mixin"><span class="token keyword">mixin</span> login-<span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token tag">button<span class="token attributes"><span class="token punctuation">(</span>
    <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn btn-primary btn-block"</span></span><span class="token punctuation">,</span>
    <span class="token attr-name">onclick</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">window.location='/login/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>activeRoute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span></span>
  <span class="token punctuation">)</span></span></span> <span class="token plain-text">Log In</span></code></pre><p> Update <code class=" language-js">src<span class="token operator">/</span>components<span class="token operator">/</span>logout<span class="token operator">-</span>button<span class="token punctuation">.</span>pug</code> as follows:</p><pre class=" language-pug"><code class=" language-pug"><span class="token mixin"><span class="token keyword">mixin</span> logout-<span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token tag">button<span class="token attributes"><span class="token punctuation">(</span>
    <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn btn-danger btn-block"</span></span><span class="token punctuation">,</span>
    <span class="token attr-name">onclick</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">window.location='/logout/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>activeRoute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span></span>
  <span class="token punctuation">)</span></span></span> <span class="token plain-text">Log Out</span></code></pre><blockquote><p><code class=" language-js">activeRoute</code> is available in any template without the need to pass it down from mixin to mixin.</p></blockquote><p> Visit the <a href="http://localhost:4040/profile" target="_blank" rel="noreferrer noopener">"Profile"</a> page and try to log in or log out.</p><p>If you log in, notice that you come back to the "Profile" page after you log in using the Auth0 Universal Login Page.</p><p>If you log out, you get an error!</p><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/auth0-logout-error" alt="Auth0 logout error" class=" lightbox-image"></p><p><strong>Why are you getting an error when logging out from the <code class=" language-js"><span class="token operator">/</span>profile</code> page?</strong></p><p>If you click on the "See details for this error" link from the error page, you'll learn that the error relates to an <code class=" language-js">invalid_request</code>: The "returnTo" querystring parameter "<a href="http://localhost:4040/profile" target="_blank" rel="noreferrer noopener">http://localhost:4040/profile</a>" is not defined as a valid URL in "Allowed Logout URLs".</p><p>During the Auth0 setup section of this guide, you defined "Allowed Logout URLs" for the Auth0 application that represents your Express web application in the Auth0 platform:</p><p><strong>Allowed Logout URLs</strong></p><pre class=" language-bash"><code class=" language-bash">http://localhost:4040</code></pre><p><strong>Auth0 can only redirect your users after they log out to the URLs listed in that field</strong>. As such, you need to add the <code class=" language-js"><span class="token operator">/</span>profile</code> and <code class=" language-js"><span class="token operator">/</span>external<span class="token operator">-</span>api</code> paths to it.</p><p> Head back to the <a href="https://manage.auth0.com/#/applications" target="_blank" rel="noreferrer noopener">"Applications"</a> section from the Auth0 Dashboard. Select your "Auth0 Express Sample" application and then click on the "Settings" tab.</p><p> Locate <strong>Allowed Logout URLs</strong> and update like so:</p><pre class=" language-bash"><code class=" language-bash">http://localhost:4040,
http://localhost:4040/profile,
http://localhost:4040/external-api</code></pre><p> <strong>Scroll down and click on "Save Changes".</strong></p><p> Head back to your application user interface in the browser. Visit either the <a href="http://localhost:4040/profile" target="_blank" rel="noreferrer noopener">"Profile"</a> or <a href="http://localhost:4040/external-api" target="_blank" rel="noreferrer noopener">"External API"</a> page. Refresh the page and try to log in and log out. You should now stay in the same page after either action completes without any errors.</p><p>In this section, you have learned how to use the built-in <code class=" language-js"><span class="token operator">/</span>login</code> and <code class=" language-js"><span class="token operator">/</span>logout</code> route controllers exposed by the Express OpenID Connect library. You also learned how to create custom authentication controllers to improve the user experience of your application and to accommodate to different use cases.</p><p>In the next section, you'll learn how to retrieve and display user profile information in your user interface.</p><h2 id="Retrieving-User-Information">Retrieving User Information</h2><p>You can use profile data stored in your Auth0 user database to personalize the user interface of your Express application. The Express OpenID Connect library exposes that profile data in the <code class=" language-js">req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span>user</code> object. Some of the user information available includes the name, nickname, picture, and email of the logged-in user.</p><p><strong>How can you use <code class=" language-js">req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span>user</code> to create a profile page for your users?</strong></p><p> Update the <code class=" language-js"><span class="token operator">/</span>profile</code> route controller under the <code class=" language-js">Routes Definitions <span class="token operator">&gt;</span> Profile</code> section in <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> as follows:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Routes Definitions
 */</span>

<span class="token comment">// &gt; Profile</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/profile'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'profile'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    user<span class="token operator">:</span> req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span>user<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> Next, update the <code class=" language-js"><span class="token operator">/</span>profile</code> template defined in <code class=" language-js">src<span class="token operator">/</span>views<span class="token operator">/</span>profile<span class="token punctuation">.</span>pug</code> as follows:</p><pre class=" language-pug"><code class=" language-pug"><span class="token keyword">extends ../components/layout</span>

<span class="token keyword">block content</span>
  <span class="token flow-control"><span class="token branch keyword">if</span> user</span>
    <span class="token tag">div</span>
      <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"row align-items-center profile-header"</span></span><span class="token punctuation">)</span></span></span>
        <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"col-md-2 mb-3"</span></span><span class="token punctuation">)</span></span></span>
          <span class="token tag">img<span class="token attributes"><span class="token punctuation">(</span>
            <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"rounded-circle img-fluid profile-picture mb-3 mb-md-0"</span></span>
            <span class="token attr-name">src</span><span class="token punctuation">=</span><span class="token attr-value">user<span class="token punctuation">.</span>picture</span>
            <span class="token attr-name">alt</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"Profile"</span></span>
          <span class="token punctuation">)</span></span></span>
        <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"col-md text-center text-md-left"</span></span><span class="token punctuation">)</span></span></span>
          <span class="token tag">h2</span> <span class="token plain-text">#{user.name}</span>
          <span class="token tag">p<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"lead text-muted"</span></span><span class="token punctuation">)</span></span></span> <span class="token plain-text">#{user.email}</span>
      <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"row"</span></span><span class="token punctuation">)</span></span></span>
        <span class="token tag">pre<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"col-12 text-light bg-dark p-4"</span></span><span class="token punctuation">)</span></span></span>
          <span class="token punctuation">|</span> #{JSON<span class="token punctuation">.</span>stringify(user, null, 2)}</code></pre><p>What's happening within the <code class=" language-js">profile</code> template?</p><ul><li><p>You obtain the user <code class=" language-js">name</code>, <code class=" language-js">picture</code>, and <code class=" language-js">email</code> from the <code class=" language-js">user</code> object that you passed to the template from the <code class=" language-js"><span class="token operator">/</span>profile</code> route controller.</p></li><li><p>You then display these three properties in the user interface. You only render the content of the <code class=" language-js">profile</code> template if the <code class=" language-js">user</code> object is defined.</p></li><li><p>Finally, you display the full content of the decoded ID token within a code box. You can now see all the other properties available for you to use.</p></li></ul><details><summary><strong>What is an ID token?</strong></summary><p>After a user successfully logs in, Auth0 sends an ID token to your application. Authentication systems, such as Auth0, use <a href="https://auth0.com/docs/tokens/concepts/id-tokens" target="_blank" rel="noreferrer noopener">ID Tokens</a> in <a href="https://auth0.com/learn/token-based-authentication-made-easy/" target="_blank" rel="noreferrer noopener">token-based authentication</a> to cache user profile information and provide it to an application. The caching of ID tokens can contribute to improvements in performance and responsiveness for your application.</p><p>You can use the data from the ID token to personalize the user interface of your application. The Express OpenID Connect library decodes the ID token and attaches its information to the <code class=" language-js">user</code> property of the <code class=" language-js">req<span class="token punctuation">.</span>oidc</code> namespace. Some of the ID token information includes the name, nickname, picture, and email of the logged-in user.</p></details><p>The <code class=" language-js">profile</code> template renders user information that you could consider protected. Additionally, the <code class=" language-js">user</code> property is <code class=" language-js"><span class="token keyword">null</span></code> if there is no logged-in user. So either way, this component should only render if Auth0 has authenticated the user.</p><p>As such, you should protect the route that renders this template, <a href="http://localhost:4040/profile" target="_blank" rel="noreferrer noopener"><code class=" language-js">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">4040</span><span class="token operator">/</span>profile</code></a>. You'll learn how to do just that in the next section.</p><h2 id="Protecting-Routes">Protecting Routes</h2><p>The Express OpenID Connect library exposes a <a href="https://auth0.github.io/express-openid-connect/globals.html#requiresauth" target="_blank" rel="noreferrer noopener"><code class=" language-js"><span class="token function">requiresAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> middleware function that you can use to require users to login in order to access a specific route. Express will redirect to the Auth0 Universal Login page any users who have not logged in and try to access the route.</p><blockquote><p><strong>As a reminder: for <code class=" language-js"><span class="token function">requiresAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to work, you must set <code class=" language-js">authRequired</code> to <code class=" language-js"><span class="token boolean">false</span></code> when you initialize Express OpenID Connect using the <code class=" language-js">auth</code> middleware function.</strong></p></blockquote><p> Open <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> and update the <code class=" language-js">Required External Modules</code> section as follows:</p><pre class=" language-jsx"><code class=" language-jsx"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Required External Modules
 */</span>

<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> auth<span class="token punctuation">,</span> requiresAuth <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-openid-connect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You can add the <code class=" language-js"><span class="token function">requiresAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> middleware function on as part of the request-response cycle of each controller that you want to protect  in this case, <code class=" language-js"><span class="token operator">/</span>profile</code> and <code class=" language-js"><span class="token operator">/</span>external<span class="token operator">-</span>api</code>.</p><p> Update the <code class=" language-js">Routes Definitions <span class="token operator">&gt;</span> Profile</code> subsection of <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> as follows:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">/**
 * Routes Definitions
 */</span>

<span class="token comment">// &gt; Profile</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/profile'</span><span class="token punctuation">,</span> <span class="token function">requiresAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'profile'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    user<span class="token operator">:</span> req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span>user<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now, when users who have not logged in visit a protected route, your Express application will redirect that user to the login page. After the user logs in, Auth0 will redirect the user to the page they intended to access before login.</p><p> You can now test that <code class=" language-js"><span class="token operator">/</span>profile</code> requires users to log in before they can access it. <strong>Log out</strong> and try to access the <a href="http://localhost:4040/profile" target="_blank" rel="noreferrer noopener">Profile</a> page again. If it works, Express redirects you to log in with Auth0.</p><h2 id="Calling-an-API">Calling an API</h2><p>This section focuses on showing you how to get an <a href="https://auth0.com/docs/tokens/access-tokens" target="_blank" rel="noreferrer noopener">access token</a> in your Express application and how to use it to make API calls to protected API endpoints.</p><p>When you use Auth0, you delegate the authentication process to a centralized service. Auth0 provides you with functionality to log in and log out users from your Express application. However, your application may need to access protected resources from an external API, such as contacts, pictures, or purchase history.</p><p>You can also <a href="https://auth0.com/docs/microsites/protect-api/protect-api" target="_blank" rel="noreferrer noopener">protect an API with Auth0</a>. There are <a href="https://auth0.com/docs/quickstart/backend" target="_blank" rel="noreferrer noopener">multiple API quickstarts</a> to help you integrate Auth0 with your backend platform.</p><p>When you use Auth0 <em>to protect your API</em>, you also delegate the authorization process to a centralized service that ensures only approved client applications can access protected resources on behalf of a user.</p><p><strong>How can you make secure calls to an external API from Express?</strong></p><p>Your Express application authenticates the user and <a href="https://auth0.com/docs/tokens/concepts/access-tokens" target="_blank" rel="noreferrer noopener">receives an access token from Auth0</a>. The application can then pass that access token to your external API as a credential. In turn, your external API can use Auth0 libraries to verify the access token it receives from the calling application and issue a response with the desired data.</p><p>Instead of creating an API from scratch to test the authentication and authorization flows between the client and the server, you'll use a demo Express API that I've prepared for you.</p><h3 id="Get-the-Express-API-demo">Get the Express API demo</h3><p> Open a new terminal window and clone the <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>js<span class="token operator">-</span>sample</code> repo somewhere in your system. <strong>Ensure that you clone it outside your Express project directory</strong>.</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">git</span> clone git@github.com:auth0-blog/auth0-express-js-sample.git</code></pre><p> Once you clone this repo, <strong>make the <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>js<span class="token operator">-</span>sample</code> directory your current directory</strong>:</p><pre class=" language-bash"><code class=" language-bash"><span class="token builtin class-name">cd</span> auth0-express-js-sample</code></pre><p> Install the Node.js project dependencies:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">npm</span> <span class="token function">install</span></code></pre><h3 id="Connect-the-Express-API-with-Auth0">Connect the Express API with Auth0</h3><h4 id="Create-a-communication-bridge-between-Express-and-Auth0">Create a communication bridge between Express and Auth0</h4><p>This process is similar to how you connected Express with Auth0.</p><p> Head to the <a href="https://manage.auth0.com/#/apis" target="_blank" rel="noreferrer noopener">APIs section in the Auth0 Dashboard</a>, and click the "Create API" button.</p><p> Then, in the form that Auth0 shows:</p><ul><li>Add a <strong>Name</strong> to your API:</li></ul><pre class=" language-bash"><code class=" language-bash">Auth0 Express Sample</code></pre><ul><li>Set its <strong>Identifier</strong> value:</li></ul><pre class=" language-bash"><code class=" language-bash">https://express.sample</code></pre><ul><li>Leave the signing algorithm as <code class=" language-js"><span class="token constant">RS256</span></code> as it's the best option from a security standpoint.</li></ul><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/auth0-dashboard-new-api-form" alt="Auth0 Dashboard new API form" class=" lightbox-image"></p><p>Identifiers are unique strings that help Auth0 differentiate between your different APIs. We recommend using URLs to facilitate creating unique identifiers predictably; however, <strong>Auth0 never calls these URLs</strong>.</p><p> With these values in place, hit the "Create" button. Keep this page open as you'll need some of its values in the next section.</p><h4 id="Add-the-Auth0-configuration-variables-to-Express">Add the Auth0 configuration variables to Express</h4><p> Create a <code class=" language-js"><span class="token punctuation">.</span>env</code> file for the API Server under the <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>js<span class="token operator">-</span>sample</code> directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">touch</span> .env</code></pre><p> Populate this <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>js<span class="token operator">-</span>sample<span class="token operator">/</span><span class="token punctuation">.</span>env</code> file as follows:</p><pre class=" language-bash"><code class=" language-bash"><span class="token assign-left variable">SERVER_PORT</span><span class="token operator">=</span><span class="token number">6060</span>
<span class="token assign-left variable">CLIENT_ORIGIN_URL</span><span class="token operator">=</span>http://localhost:4040
<span class="token assign-left variable">AUTH0_AUDIENCE</span><span class="token operator">=</span>
<span class="token assign-left variable">AUTH0_DOMAIN</span><span class="token operator">=</span></code></pre><p> Head back to your Auth0 API page, and <strong>follow these steps to get the Auth0 Audience</strong>:</p><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/get-the-auth0-audience" alt="Get the Auth0 Audience to configure an API" class=" lightbox-image"></p><ol start="1"><li><p> Click on the <strong>"Settings"</strong> tab.</p></li><li><p> Locate the <strong>"Identifier"</strong> field and copy its value.</p></li><li><p> Paste the "Identifier" value as the value of <code class=" language-js"><span class="token constant">AUTH0_AUDIENCE</span></code> in <code class=" language-js"><span class="token punctuation">.</span>env</code>.</p></li></ol><p>Now, <strong>follow these steps to get the Auth0 Domain value</strong>:</p><p><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/get-the-auth0-domain" alt="Get the Auth0 Domain to configure an API" class=" lightbox-image"></p><ol start="1"><li> Click on the <strong>"Test"</strong> tab.</li><li> Locate the section called <strong>"Asking Auth0 for tokens from my application"</strong>.</li><li> Click on the <strong>cURL</strong> tab to show a mock <code class=" language-js"><span class="token constant">POST</span></code> request.</li><li> Copy your Auth0 domain, which is <em>part</em> of the <code class=" language-js"><span class="token operator">--</span>url</code> parameter value: <code class=" language-js">tenant<span class="token operator">-</span>name<span class="token punctuation">.</span>region<span class="token punctuation">.</span>auth0<span class="token punctuation">.</span>com</code>.</li><li> Paste the Auth0 domain value as the value of <code class=" language-js"><span class="token constant">AUTH0_DOMAIN</span></code> in <code class=" language-js"><span class="token punctuation">.</span>env</code>.</li></ol><details><summary><strong>Tips to get the Auth0 Domain</strong></summary><ul><li><p>The Auth0 Domain is the substring between the protocol, <code class=" language-js">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span></code> and the path <code class=" language-js"><span class="token operator">/</span>oauth<span class="token operator">/</span>token</code>.</p></li><li><p>The Auth0 Domain follows this pattern: <code class=" language-js">tenant<span class="token operator">-</span>name<span class="token punctuation">.</span>region<span class="token punctuation">.</span>auth0<span class="token punctuation">.</span>com</code>.</p></li><li><p>The <code class=" language-js">region</code> subdomain (<code class=" language-js">au</code>, <code class=" language-js">us</code>, or <code class=" language-js">eu</code>) is optional. Some Auth0 Domains don't have it.</p></li><li><p><strong>Click on the image above, please, if you have any doubt on how to get the Auth0 Domain value</strong>.</p></li></ul></details><p> With the <code class=" language-js"><span class="token punctuation">.</span>env</code> configuration values set, run the API server by issuing the following command:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">npm</span> start</code></pre><h3 id="Configure-your-Express-app-to-consume-the-Express-Demo-API">Configure your Express app to consume the Express Demo API</h3><p>Your Express application needs to pass an access token when it calls a target API to access protected resources. You can request an access token from the Auth0 authorization server by configuring your <code class=" language-js"><span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> middleware to include the API audience and a <code class=" language-js">code</code> response type. Take this <code class=" language-js"><span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> configuration as example:</p><pre class=" language-javascript"><code class=" language-javascript">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    authorizationParams<span class="token operator">:</span> <span class="token punctuation">{</span>
      response_type<span class="token operator">:</span> <span class="token string">'code'</span><span class="token punctuation">,</span>
      audience<span class="token operator">:</span> <span class="token string">'https://api.example.com/products'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now, whenever you configure <code class=" language-js"><span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to get a <code class=" language-js">code</code> as your <code class=" language-js">response_type</code>, you need to include the Client Secret of your Auth0 application.</p><p> Head back to the <a href="https://manage.auth0.com/#/applications" target="_blank" rel="noreferrer noopener">"Applications"</a> section from the Auth0 Dashboard. Select your "Auth0 Express Sample" application and click on its "Settings" tab. Locate the <strong>"Client Secret"</strong> field.</p><p> Head back to the <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>pug<span class="token operator">-</span>sample</code> project directory that stores your Express application.</p><p> Locate the <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>pug<span class="token operator">-</span>sample<span class="token operator">/</span><span class="token punctuation">.</span>env</code> file and add your <code class=" language-js"><span class="token constant">AUTH0_AUDIENCE</span></code>, <code class=" language-js"><span class="token constant">SERVER_URL</span></code>, and <code class=" language-js"><span class="token constant">CLIENT_SECRET</span></code> values to it:</p><pre class=" language-bash"><code class=" language-bash"><span class="token assign-left variable">DEV_PORT</span><span class="token operator">=</span><span class="token number">4041</span>
<span class="token assign-left variable">PROD_PORT</span><span class="token operator">=</span><span class="token number">4040</span>
<span class="token assign-left variable">AUTH0_ISSUER_BASE_URL</span><span class="token operator">=</span>https://<span class="token operator">&lt;</span>AUTH0-DOMAIN<span class="token operator">&gt;</span>/
<span class="token assign-left variable">AUTH0_CLIENT_ID</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">&gt;</span>
<span class="token assign-left variable">BASE_URL</span><span class="token operator">=</span>http://localhost:4040
<span class="token assign-left variable">SESSION_SECRET</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">&gt;</span>
<span class="token assign-left variable">AUTH0_AUDIENCE</span><span class="token operator">=</span>https://express.sample
<span class="token assign-left variable">SERVER_URL</span><span class="token operator">=</span>http://localhost:6060
<span class="token assign-left variable">CLIENT_SECRET</span><span class="token operator">=</span></code></pre><p> The value of <code class=" language-js"><span class="token constant">AUTH0_AUDIENCE</span></code> is the same for both the Express web app and the Express API.</p><p><code class=" language-js"><span class="token constant">SERVER_URL</span></code> is the URL where the Express API server is running.</p><p> Use the value of Client Secret from the Auth0 application settings as the value of <code class=" language-js"><span class="token constant">CLIENT_SECRET</span></code>.</p><p>The Auth0 Client Secret is a critical value as it protects your resources by only granting authentication-related credentials in the form of <strong>tokens</strong> to requestors if they're authorized. Think of it as your application's password, which <strong>must be kept confidential at all times</strong>. If anyone gains access to your <strong>Client Secret</strong>, they can impersonate your application and access protected resources.</p><p>Together, these variables let your application identify itself as an authorized party to interact with the Auth0 authentication server.</p><p> You need to restart the Node.js server for your application to recognize these new environment variables. Locate the terminal window where you executed <code class=" language-js">npm run dev</code> earlier, stop it, and run it again.</p><p>You can request an access token in a format that the API can verify by passing an <code class=" language-js">audience</code> and <code class=" language-js">response_type</code> props to the <code class=" language-js"><span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> initializer.</p><p> Open <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code>, locate the <code class=" language-js">App Configuration</code> section, and update the initialization of <code class=" language-js"><span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> as follows:</p><pre class=" language-js"><code class=" language-js"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 *  App Configuration
 */</span>

app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"views"</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"views"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"view engine"</span><span class="token punctuation">,</span> <span class="token string">"pug"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">".."</span><span class="token punctuation">,</span> <span class="token string">"public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  Update the mounting and initialization of auth()</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    issuerBaseURL<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">AUTH0_ISSUER_BASE_URL</span><span class="token punctuation">,</span>
    baseURL<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>
    clientID<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">AUTH0_CLIENT_ID</span><span class="token punctuation">,</span>
    secret<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SESSION_SECRET</span><span class="token punctuation">,</span>
    authRequired<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    auth0Logout<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    clientSecret<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">CLIENT_SECRET</span><span class="token punctuation">,</span>
    authorizationParams<span class="token operator">:</span> <span class="token punctuation">{</span>
      response_type<span class="token operator">:</span> <span class="token string">"code"</span><span class="token punctuation">,</span>
      audience<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">AUTH0_AUDIENCE</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code class=" language-js">clientSecret</code> goes at the same level as the other properties. However, when Express OpenID Connect makes requests to the Auth0 authorization server, it uses <code class=" language-js">response_type</code> and <code class=" language-js">audience</code> as request parameters. As such, you need to specify these two values as properties of the <code class=" language-js">authorizationParams</code> object.</p><p><strong>Why is the Auth0 Audience value the same for both apps?</strong> Auth0 uses the value of the <code class=" language-js">audience</code> prop to determine which resource server (API) the user is authorizing your Express application to access. It's like a phone number. You want to ensure that your Express application "texts the right API".</p><p>The actions that your Express application can perform on the API depend on the <a href="https://auth0.com/docs/scopes/current" target="_blank" rel="noreferrer noopener">scopes</a> that your access token contains.</p><p>Remember that screen you saw when you first logged in with Auth0 asking you for permission to access your profile information? Your Express application will request authorization from the user to access the requested scopes, and the user will approve or deny the request. You may have seen something similar when sharing your contacts or photos from a social media platform with a third-party application.</p><p>When you don't add a <code class=" language-js">scope</code> property to the <code class=" language-js">authorizationParams</code> object used to configure <code class=" language-js"><span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, the Express OpenID Connect library defaults to the <a href="https://openid.net/specs/openid-connect-basic-1_0.html#Scopes" target="_blank" rel="noreferrer noopener">OpenID Connect Scopes</a>: <code class=" language-js">openid profile email</code>.</p><ul><li><p><code class=" language-js">openid</code>: This scope informs the Auth0 authorization server that the client is making an <a href="https://auth0.com/docs/protocols/oidc" target="_blank" rel="noreferrer noopener">OpenID Connect (OIDC)</a> request to verify the user's identity. OpenID Connect is an authentication protocol.</p></li><li><p><code class=" language-js">profile</code>: This scope value requests access to the user's default profile information, such as <code class=" language-js">name</code>, <code class=" language-js">nickname</code>, and <code class=" language-js">picture</code>.</p></li><li><p><code class=" language-js">email</code>: This scope value requests access to the <code class=" language-js">email</code> and <code class=" language-js">email_verified</code> information.</p></li></ul><p>The details of the OpenID Connect Scopes go into the ID Token. However, you can define custom <a href="https://auth0.com/docs/scopes/current/api-scopes" target="_blank" rel="noreferrer noopener">API scopes</a> to implement access control. You'll identify those custom scopes in the calls that your client applications make to that API. Auth0 includes API scopes in the <a href="https://auth0.com/docs/tokens/guides/validate-access-tokens#custom-api-access-tokens" target="_blank" rel="noreferrer noopener">access token as the <code class=" language-js">scope</code> claim value</a>.</p><blockquote><p>The concepts about API scopes or permissions are better covered in an Auth0 API tutorial such as <a href="https://auth0.com/blog/use-typescript-to-create-a-secure-api-with-nodejs-and-express-adding-role-based-access-control/#Create-API-Permissions" target="_blank" rel="noreferrer noopener">"Use TypeScript to Create a Secure API with Node.js and Express: Role-Based Access Control"</a>.</p></blockquote><p> Visit the <a href="http://localhost:4040/external-api" target="_blank" rel="noreferrer noopener">"External API" page</a> and notice that it has two buttons for you to request resources from the Express Demo API:</p><ul><li><p>"Get Public Message" =&gt; <code class=" language-js"><span class="token constant">GET</span> <span class="token operator">/</span>messages<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">-</span>message</code></p></li><li><p>"Get Protected Message" =&gt; <code class=" language-js"><span class="token constant">GET</span> <span class="token operator">/</span>messages<span class="token operator">/</span><span class="token keyword">protected</span><span class="token operator">-</span>message</code></p></li></ul><p>What's the plan to implement these API calls in your Express web application? Create two more routes.</p><p>First, you'll need a package to make HTTP requests from your Express route controllers. Don't worry... I <code class=" language-js">got</code> you.</p><p> Install <a href="https://www.npmjs.com/package/got" target="_blank" rel="noreferrer noopener"><code class=" language-js">got</code></a> in your <code class=" language-js">auth0<span class="token operator">-</span>express<span class="token operator">-</span>pug<span class="token operator">-</span>sample</code> project:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">npm</span> <span class="token function">install</span> got</code></pre><p><code class=" language-js">got</code> labels itself as a human-friendly and powerful HTTP request library for Node.js applications.</p><p> Open <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> and update the <code class=" language-js">Required External Modules</code> section as follows:</p><pre class=" language-js"><code class=" language-js"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Required External Modules
 */</span>

<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> auth<span class="token punctuation">,</span> requiresAuth <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-openid-connect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> got <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'got'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> Next, update the <code class=" language-js">Routes Definitions <span class="token operator">&gt;</span> External <span class="token constant">API</span></code> subsection in <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> to add two routes to handle retrieving messages from the Express API:</p><pre class=" language-js"><code class=" language-js"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Routes Definitions
 */</span>

<span class="token comment">// &gt; External API</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/external-api'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'external-api'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/external-api/public-message'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> message<span class="token punctuation">;</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">got</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SERVER_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/api/messages/public-message</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    message <span class="token operator">=</span> body<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message <span class="token operator">=</span> <span class="token string">'Unable to retrieve message.'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'external-api'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/external-api/protected-message'</span><span class="token punctuation">,</span> <span class="token function">requiresAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> token_type<span class="token punctuation">,</span> access_token <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span>accessToken<span class="token punctuation">;</span>
  <span class="token keyword">let</span> message<span class="token punctuation">;</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">got</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SERVER_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/api/messages/protected-message</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        headers<span class="token operator">:</span> <span class="token punctuation">{</span>
          Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token_type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>access_token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    message <span class="token operator">=</span> body<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message <span class="token operator">=</span> <span class="token string">'Unable to retrieve message.'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'external-api'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>What's happening in the External API route controllers?</strong></p><ul><li><p>Nothing changes for <code class=" language-js"><span class="token operator">/</span>external<span class="token operator">-</span>api</code>. It remains the landing page for that path.</p></li><li><p><code class=" language-js"><span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">-</span>message</code> requests message data from a public API endpoint, <code class=" language-js"><span class="token operator">/</span>api<span class="token operator">/</span>messages<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">-</span>message</code>.</p><ul><li><p>It stores the response from that request in the <code class=" language-js">message</code> variable, which it passes down to the <code class=" language-js">external<span class="token operator">-</span>api</code> template.</p></li><li><p>This route doesn't require user login to access the page or make the API call.</p></li></ul></li><li><p><code class=" language-js"><span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">protected</span><span class="token operator">-</span>message</code> requests message data from a protected API endpoint, <code class=" language-js"><span class="token operator">/</span>api<span class="token operator">/</span>messages<span class="token operator">/</span><span class="token keyword">protected</span><span class="token operator">-</span>message</code>.</p><ul><li><p>It obtains the access token and its type from <code class=" language-js">req<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span>accessToken</code>.</p></li><li><p>It uses the access token in the authorization header of the protected API call.</p></li><li><p>It stores the response from that request in the <code class=" language-js">message</code> variable, which it passes down to the <code class=" language-js">external<span class="token operator">-</span>api</code> template.</p></li><li><p>Since this route requires a valid access token to make the protected API request, it uses <code class=" language-js"><span class="token function">requiresAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to request the user to log in.</p></li></ul></li></ul><blockquote><p>The <code class=" language-js"><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> chain method from <code class=" language-js">got</code> lets you obtain the server responses in JSON format.</p></blockquote><p> Now, update <code class=" language-js">src<span class="token operator">/</span>views<span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token punctuation">.</span>pug</code> as follows:</p><pre class=" language-pug"><code class=" language-pug"><span class="token keyword">extends ../components/layout</span>

<span class="token keyword">block content</span>
  <span class="token tag">div</span>
    <span class="token tag">h1</span> <span class="token plain-text">External API</span>
    <span class="token tag">p</span>
      <span class="token punctuation">|</span> Use these buttons to call an external API<span class="token punctuation">.</span> The protected API call has an access token in its authorization header<span class="token punctuation">.</span> The API server will validate the access token using the Auth0 Audience value<span class="token punctuation">.</span>
    <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span>
      <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn-group mt-5"</span></span><span class="token punctuation">,</span>
      <span class="token attr-name">role</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"group"</span></span><span class="token punctuation">,</span>
      <span class="token attr-name">aria-label</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"External API Requests Examples"</span></span>
    <span class="token punctuation">)</span></span></span>
      <span class="token tag">button<span class="token attributes"><span class="token punctuation">(</span>
        <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"button"</span></span><span class="token punctuation">,</span>
        <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn btn-primary"</span></span>
        <span class="token attr-name">onclick</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"window.location='/external-api/public-message'"</span></span>
      <span class="token punctuation">)</span></span></span> <span class="token plain-text">Get Public Message</span>
      <span class="token tag">button<span class="token attributes"><span class="token punctuation">(</span>
        <span class="token attr-name">type</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"button"</span></span><span class="token punctuation">,</span>
        <span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"btn btn-primary"</span></span>
        <span class="token attr-name">onclick</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"window.location='/external-api/protected-message'"</span></span>
      <span class="token punctuation">)</span></span></span> <span class="token plain-text">Get Protected Message</span>

    <span class="token flow-control"><span class="token branch keyword">if</span> message</span>
      <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"mt-5"</span></span><span class="token punctuation">)</span></span></span>
        <span class="token tag">h6<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"muted"</span></span><span class="token punctuation">)</span></span></span> <span class="token plain-text">Result</span>
        <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"container-fluid"</span></span><span class="token punctuation">)</span></span></span>
          <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"row"</span></span><span class="token punctuation">)</span></span></span>
            <span class="token tag">code<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">"col-12 text-light bg-dark p-4"</span></span><span class="token punctuation">)</span></span></span>
              <span class="token punctuation">|</span> #{JSON<span class="token punctuation">.</span>stringify(message, null, 2)}</code></pre><p>What is happening now within the <code class=" language-js">external<span class="token operator">-</span>api</code> template?</p><p>You trigger calls to the <code class=" language-js"><span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">-</span>message</code> and <code class=" language-js"><span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">protected</span><span class="token operator">-</span>message</code> route controllers from the button group. If <code class=" language-js">message</code> is defined, you render the server response.</p><p> <strong>Log out and log back in to get a new access token from Auth0 that includes the audience information</strong>.</p><p> Visit <a href="http://localhost:4040/external-api" target="_blank" rel="noreferrer noopener"><code class=" language-js">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">4040</span><span class="token operator">/</span>external<span class="token operator">-</span>api</code></a> and click any of the buttons on the External API page to test the responses. You may be prompted to log in depending on the action you choose to execute.</p><p><strong>Get Public Message:</strong></p><pre class=" language-bash"><code class=" language-bash">The API doesn't require an access token to share this message.</code></pre><p><strong>Get Protected Message:</strong></p><pre class=" language-bash"><code class=" language-bash">The API successfully validated your access token.</code></pre><p>There's a problem now... Visit <a href="http://localhost:4040/external-api/protected-message" target="_blank" rel="noreferrer noopener"><code class=" language-js">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">4040</span><span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">protected</span><span class="token operator">-</span>message</code></a>. After you log in, you'll see the result box. Now try to log out...</p><p>You get an error message:</p><p><code class=" language-js">Cannot <span class="token constant">GET</span> <span class="token operator">/</span>logout<span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">protected</span><span class="token operator">-</span>message</code>.</p><p>If you were to try to login from <a href="http://localhost:4040/external-api/public-message" target="_blank" rel="noreferrer noopener"><code class=" language-js">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">4040</span><span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">-</span>message</code></a>, you'll get a similar error:</p><p><code class=" language-js">Cannot <span class="token constant">GET</span> <span class="token operator">/</span>login<span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">-</span>message</code></p><p>There is no route controller to handle the following requests:</p><pre class=" language-bash"><code class=" language-bash">GET /sign-up/:page/:section

GET /login/:page/:section

GET /logout/:page/:section</code></pre><p>You could create a route controller to handle those specific paths, but there's no need. You can add <code class=" language-js">section</code> as an optional parameter for the existing authentication route controllers.</p><p> Open <code class=" language-js">src<span class="token operator">/</span>index<span class="token punctuation">.</span>js</code> and locate the <code class=" language-js">Routes Definitions <span class="token operator">&gt;</span> Authentication</code> subsection. Update this section as follows:</p><pre class=" language-js"><code class=" language-js"><span class="token comment">// src/index.js</span>

<span class="token comment">/**
 * Routes Definitions
 */</span>

<span class="token comment">// &gt; Authentication</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/sign-up/:page/:section?'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> page<span class="token punctuation">,</span> section <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  res<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    returnTo<span class="token operator">:</span> section <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>section<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> page<span class="token punctuation">,</span>
    authorizationParams<span class="token operator">:</span> <span class="token punctuation">{</span>
      screen_hint<span class="token operator">:</span> <span class="token string">'signup'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/login/:page/:section?'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> page<span class="token punctuation">,</span> section <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  res<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    returnTo<span class="token operator">:</span> section <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>section<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> page<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/logout/:page/:section?'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  res<span class="token punctuation">.</span>oidc<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    returnTo<span class="token operator">:</span> page<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Let's test this fix.</p><p> Visit <a href="http://localhost:4040/external-api/protected-message" target="_blank" rel="noreferrer noopener"><code class=" language-js">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">4040</span><span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">protected</span><span class="token operator">-</span>message</code></a> and log out from there. You should be taken to the <a href="http://localhost:4040/external-api" target="_blank" rel="noreferrer noopener">"External API"</a> page.</p><p> Visit <a href="http://localhost:4040/external-api/public-message" target="_blank" rel="noreferrer noopener"><code class=" language-js">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">4040</span><span class="token operator">/</span>external<span class="token operator">-</span>api<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">-</span>message</code></a> and log in from there. You should have remained in that same page.</p><h2 id="Conclusion">Conclusion</h2><p>You have implemented user authentication in Express to identify your users, get user profile information, and control the content that your users can access by protecting routes and API resources.</p><p>This tutorial covered the most common authentication use case for an Express web application: simple sign-up, login and logout and calling protected APIs.</p><p>However, Auth0 is an extensible and flexible platform that can help you achieve even more. If you have a more complex use case, check out the <a href="https://auth0.com/docs/architecture-scenarios" target="_blank" rel="noreferrer noopener">Auth0 Architecture Scenarios</a> to learn more about the typical architecture scenarios we have identified when working with customers on implementing Auth0.</p><p>In a follow-up guide, we'll cover advanced authentication patterns and tooling, such as using a pop-up instead of a redirect to log in users, adding permission information to the <code class=" language-js">oidc</code> namespace, using metadata to enhance user profiles, and much more.</p><p>Let me know in the comments below what you thought of this tutorial. Thank you for reading and stay tuned, please.</p></div><ul class="nlufiy-1 dOMuZW"><li class="nlufiy-2 fXIXML"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#" class="nlufiy-3 jFCgAB"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/twitter-social-button.svg" alt="Twitter icon"></a></li><li class="nlufiy-2 fXIXML"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#" class="nlufiy-3 jRHWVS"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/linkedin-social-button.svg" alt="LinkedIn icon"></a></li><li class="nlufiy-2 fXIXML"><a href="https://auth0.com/blog/complete-guide-to-nodejs-express-user-authentication/#" class="nlufiy-3 dCgmko"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/facebook-social-button.svg" alt="Faceboook icon"></a></li></ul></main></article><div itemscope="" itemtype="https://schema.org/Organization" itemprop="publisher"><div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://i.cloudup.com/BngR4GufYd-3000x3000.png"><meta itemprop="width" content="100"><meta itemprop="height" content="37"></div><meta itemprop="name" content="Auth0"></div></section><aside class="v0njjd-2 eOJQKq"><section itemscope="" itemtype="http://schema.org/Person" itemprop="author" class="afpbj5-0 lhZmdi"><article class="afpbj5-1 jUlrnr"><div class="afpbj5-2 kKffdm"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/37590801_s_460_v_4" class="afpbj5-3 dMkQsn"><div class="afpbj5-4 gnZRGE"><h3 itemprop="name" class="afpbj5-5 hKELzO">Dan Arias</h3><p itemprop="jobTitle" class="afpbj5-6 kXpFsO">R&amp;D Content Engineer</p><div class="afpbj5-7 beRytG"><span>Howdy!  I do technology research at Auth0 with a focus on security and identity and develop apps to showcase the advantages or pitfalls of such technology. I also contribute to the development of our SDKs, documentation, and design systems, such as <a target="_blank" rel="noopener noreferrer" href="https://github.com/auth0/cosmos"><strong>Cosmos</strong></a>.<br><br>The majority of my engineering work revolves around AWS, React, and Node, but my research and content development involves a wide range of topics such as Golang, performance, and cryptography. Additionally, I am one of the core maintainers of this blog. Running a blog at scale with <strong>over 600,000 unique visitors per month</strong> is quite challenging!<br><br>I was an Auth0 customer before I became an employee, and I've always loved how much easier it is to implement authentication with Auth0. Curious to try it out? <a href="https://auth0.com/signup" data-amp-replace="CLIENT_ID" data-amp-addparams="anonId=CLIENT_ID(cid-scope-cookie-fallback-name)"><strong>Sign up for a free account</strong></a> .</span></div><a href="https://auth0.com/blog/authors/dan-arias/" class="afpbj5-8 gtgUdW">View Profile</a></div></div><div class="afpbj5-9 iDyHSd"><div class="afpbj5-4 gnZRGE"><div class="afpbj5-10 iKBEzH"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/37590801_s_460_v_4" class="afpbj5-3 dMkQsn"><div class="afpbj5-11 IuaRy"><h3 class="afpbj5-5 hKELzO">Dan Arias</h3><p class="afpbj5-6 kXpFsO">R&amp;D Content Engineer</p></div></div><div class="afpbj5-7 beRytG"><span>Howdy!  I do technology research at Auth0 with a focus on security and identity and develop apps to showcase the advantages or pitfalls of such technology. I also contribute to the development of our SDKs, documentation, and design systems, such as <a target="_blank" rel="noopener noreferrer" href="https://github.com/auth0/cosmos"><strong>Cosmos</strong></a>.<br><br>The majority of my engineering work revolves around AWS, React, and Node, but my research and content development involves a wide range of topics such as Golang, performance, and cryptography. Additionally, I am one of the core maintainers of this blog. Running a blog at scale with <strong>over 600,000 unique visitors per month</strong> is quite challenging!<br><br>I was an Auth0 customer before I became an employee, and I've always loved how much easier it is to implement authentication with Auth0. Curious to try it out? <a href="https://auth0.com/signup" data-amp-replace="CLIENT_ID" data-amp-addparams="anonId=CLIENT_ID(cid-scope-cookie-fallback-name)"><strong>Sign up for a free account</strong></a> .</span></div><a href="https://auth0.com/blog/authors/dan-arias/" class="afpbj5-8 gtgUdW">View Profile</a></div></div></article></section><section class="eb4tqf-0 cUeJxc"><article class="eb4tqf-1 eeCWwh"><h3 class="eb4tqf-2 eHrQny">More like this</h3><ul class="eb4tqf-3 eRFpcL"><li data-element-id="ml-bottom-blog-recommendation" class="sc-1t3ptg8-2 SwmLi"><a href="https://auth0.com/blog/node-js-and-express-tutorial-building-and-securing-restful-apis/" class="sc-1t3ptg8-4 hZxZfg"><figure class="sc-1t3ptg8-5 ilAutk"></figure><div class="sc-1t3ptg8-6 edDGSP"><h4 color="E5AF44" class="sc-1t3ptg8-7 ikuijq">Express</h4><h3 class="sc-1t3ptg8-8 jVGonE">Node.js and Express Tutorial: Building and Securing RESTful APIs</h3></div></a></li><li data-element-id="ml-bottom-blog-recommendation" class="sc-1t3ptg8-2 SwmLi"><a href="https://auth0.com/blog/node-js-and-typescript-tutorial-secure-an-express-api/" class="sc-1t3ptg8-4 hZxZfg"><figure class="sc-1t3ptg8-5 TUeGc"></figure><div class="sc-1t3ptg8-6 edDGSP"><h4 color="E5AF44" class="sc-1t3ptg8-7 ikuijq">TypeScript</h4><h3 class="sc-1t3ptg8-8 jVGonE">Node.js and TypeScript Tutorial: Secure an Express API</h3></div></a></li><li data-element-id="ml-bottom-blog-recommendation" class="sc-1t3ptg8-2 SwmLi"><a href="https://auth0.com/blog/create-a-simple-and-secure-node-express-app/" class="sc-1t3ptg8-4 hZxZfg"><figure class="sc-1t3ptg8-5 ilAutk"></figure><div class="sc-1t3ptg8-6 edDGSP"><h4 color="E5AF44" class="sc-1t3ptg8-7 ikuijq">Node</h4><h3 class="sc-1t3ptg8-8 jVGonE">Node.js and Express Authentication Using Passport</h3></div></a></li></ul></article></section><section class="fr3dgj-0 wgbeZ"><article class="fr3dgj-1 dGWFvT"><div class="fr3dgj-2 ejdPpM"><h3 class="fr3dgj-3 ftCbBx">Follow the conversation</h3><div class="fr3dgj-4 fJKZGu"><img src="./The Complete Guide to Node.js User Authentication with Auth0_files/chevron-up.svg" class="fr3dgj-5 gUjlSf"></div></div><div class="fr3dgj-6"><p class="fr3dgj-7 iGOHXJ">Powered by the Auth0 Community.<!-- --> <a href="https://community.auth0.com/signup?_ga=2.147040754.456996805.1607939208-671077045.1587410612" class="fr3dgj-10 ddqoCH">Sign up</a> <!-- -->now to join the discussion.<!-- --> <strong class="fr3dgj-11 gBETVu">Community links will open in a new window.</strong></p><div id="discourse-comments" class="fr3dgj-8 kCebOy"><iframe src="./The Complete Guide to Node.js User Authentication with Auth0_files/comments.html" id="discourse-embed-frame" width="100%" frameborder="0" scrolling="no" referrerpolicy="no-referrer-when-downgrade" height="591px"></iframe></div><script>
  DiscourseEmbed = {
    discourseUrl: 'https://community.auth0.com/',
    topicId: 52854,
  };

  (function() {
    var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
    d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
  })();
</script></div></article></section></aside></div><footer class="se2h2f-0 cKkxOM"><section class="sc-1cjm8t9-0 kFxyKJ"><div class="sc-1cjm8t9-1 hCUaZa"><div class="sc-1cjm8t9-2 eqalMj"><h2 class="sc-1cjm8t9-3 jqjLnD">Secure access for everyone. But not just anyone.</h2></div><div class="sc-1cjm8t9-4 dyFOzi"><a href="https://auth0.com/signup?&amp;signUpData=%7B%22category%22%3A%22button%22%7D" class="sc-1cjm8t9-6 jLIrRp">Try Auth0 for Free</a><button class="sc-1cjm8t9-5 sc-1cjm8t9-7 eYcLwW iMBUpK">Talk to Sales</button></div></div></section><section class="se2h2f-1 dVGqDZ"><article class="se2h2f-2 eRDypO"><ul class="se2h2f-3 daVBxX"><li class="se2h2f-4 frYIIS"><h3 class="se2h2f-5 hYwhOd">Blog</h3><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/developers/" class="se2h2f-7 kfPipf">Developers</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/identity-and-security/" class="se2h2f-7 kfPipf">Identity &amp; Security</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/business/" class="se2h2f-7 kfPipf">Business</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/leadership/" class="se2h2f-7 kfPipf">Leadership</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/culture/" class="se2h2f-7 kfPipf">Culture</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/engineering/" class="se2h2f-7 kfPipf">Engineering</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/announcements/" class="se2h2f-7 kfPipf">Announcements</a></p></li><li class="se2h2f-4 frYIIS"><h3 class="se2h2f-5 hYwhOd">Company</h3><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/about" class="se2h2f-7 kfPipf">About Us</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/customers/" class="se2h2f-7 kfPipf">Customers</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/security" class="se2h2f-7 kfPipf">Security</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/careers/" class="se2h2f-7 kfPipf">Careers</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/partners" class="se2h2f-7 kfPipf">Partners</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/press" class="se2h2f-7 kfPipf">Press</a></p><p class="se2h2f-6 cOZklZ"><a href="https://status.auth0.com/" class="se2h2f-7 kfPipf">Status</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/legal" class="se2h2f-7 kfPipf">Legal</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/privacy" class="se2h2f-7 kfPipf">Privacy Policy</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/web-terms" class="se2h2f-7 kfPipf">Terms</a></p></li><li class="se2h2f-4 frYIIS"><h3 class="se2h2f-5 hYwhOd">Product</h3><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/single-sign-on/" class="se2h2f-7 kfPipf">Single Sign-On</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/breached-passwords" class="se2h2f-7 kfPipf">Password Detection</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/multifactor-authentication" class="se2h2f-7 kfPipf">Guardian</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/machine-to-machine/" class="se2h2f-7 kfPipf">M2M</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/universal-login/" class="se2h2f-7 kfPipf">Universal Login</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/passwordless/" class="se2h2f-7 kfPipf">Passwordless</a></p></li><li class="se2h2f-4 frYIIS"><h3 class="se2h2f-5 hYwhOd">More</h3><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Auth0.com<img alt="Open external link" src="./The Complete Guide to Node.js User Authentication with Auth0_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/ambassador-program/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Ambassador Program<img alt="Open external link" src="./The Complete Guide to Node.js User Authentication with Auth0_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/guest-authors/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Guest Author Program<img alt="Open external link" src="./The Complete Guide to Node.js User Authentication with Auth0_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p><p class="se2h2f-6 cOZklZ"><a href="https://community.auth0.com/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Auth0 Community<img alt="Open external link" src="./The Complete Guide to Node.js User Authentication with Auth0_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/learn/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Resources<img alt="Open external link" src="./The Complete Guide to Node.js User Authentication with Auth0_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p></li></ul><hr class="se2h2f-8 gplNEi"><div class="se2h2f-9 gBMQRB"><ul class="se2h2f-10 dHEfNl"><li class="se2h2f-11 gKhDpQ"><a href="https://twitter.com/auth0" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-19 eNRqGo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="se2h2f-11 gKhDpQ"><a href="https://facebook.com/getauth0" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-15 VdjZw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg></a></li><li class="se2h2f-11 gKhDpQ"><a href="https://linkedin.com/company/auth0" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-18 bLnTdJ" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="se2h2f-11 gKhDpQ"><a href="https://www.instagram.com/weareauth0/" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-17 ekZMky" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></a></li><li class="se2h2f-11 gKhDpQ"><a href="https://github.com/auth0" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-16 biwoHT" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li></ul><p class="se2h2f-13 eYYtIj"> 2013-<!-- -->2021<!-- --> Auth0 Inc. All Rights Reserved.</p></div></article></section></footer><div id="asset-library-root"></div><div id="modal-root"></div><div id="alert-root"></div><noscript></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"path":"complete-guide-to-nodejs-express-user-authentication","lastUpdatedBy":"Unknown during the migration","layout":"post","title":"The Complete Guide to Node.js User Authentication with Auth0","description":"Learn how to add user authentication to Node.js web apps built with Express using middleware","metaTitle":"The Complete Guide to Node.js User Authentication with Auth0","metaDescription":"Learn how to add user authentication to Node.js web apps built with Express using middleware functions. Learn the core concepts of Node.js authentication.","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/7tiXdl3hqVv1Zf4ieYQ4to/a28cbc1e456759e92860edd79a07463a/nodejs","size":{"width":1176,"height":1056}},"dateCreated":"2020-11-06T08:30","dateLastUpdated":null,"category":["Developers","Tutorial","Node"],"tags":["express","authentication","security","identity"],"lang":"en","orderOfFeaturedPost":null,"communityTopicId":"52854","metaRobots":null,"designArtistLink":null,"designArtistName":null,"postContent":"\u003cinclude src=\"_private/complete-guide-to-nodejs-express-user-authentication\" /\u003e","tutorialChapterTitle":null,"redirectTo":null,"reportingAuthorType":"Core Team","reportingPostType":null,"reportingIsAuth0cta":null,"authors":[{"path":"dan-arias","name":"Dan Arias","avatar":{"url":"https://images.ctfassets.net/23aumh6u8s0i/6WmRCtZz0eDp6KE7pw8cJ3/7329ebb6302316cab8f55705100abab5/37590801_s_460_v_4","size":{"width":298,"height":298}},"lastUpdatedBy":"Unknown during the migration","email":"dan.arias@auth0.com","twitter":"http://twitter.com/getDanArias","github":null,"linkedin":null,"isPopular":true,"personalWebsite":null,"type":"Auth0 Employee","jobTitle":"R\u0026D Content Engineer","description":"Howdy!  I do technology research at Auth0 with a focus on security and identity and develop apps to showcase the advantages or pitfalls of such technology. I also contribute to the development of our SDKs, documentation, and design systems, such as \u003ca target='_blank' rel='noopener noreferrer' href='https://github.com/auth0/cosmos'\u003e\u003cstrong\u003eCosmos\u003c/strong\u003e\u003c/a\u003e.\u003cbr /\u003e\u003cbr /\u003eThe majority of my engineering work revolves around AWS, React, and Node, but my research and content development involves a wide range of topics such as Golang, performance, and cryptography. Additionally, I am one of the core maintainers of this blog. Running a blog at scale with \u003cstrong\u003eover 600,000 unique visitors per month\u003c/strong\u003e is quite challenging!\u003cbr /\u003e\u003cbr /\u003eI was an Auth0 customer before I became an employee, and I've always loved how much easier it is to implement authentication with Auth0. Curious to try it out? \u003ca href='https://auth0.com/signup' data-amp-replace='CLIENT_ID' data-amp-addparams='anonId=CLIENT_ID(cid-scope-cookie-fallback-name)'\u003e\u003cstrong\u003eSign up for a free account\u003c/strong\u003e\u003c/a\u003e ."}],"relatedPosts":[{"path":"use-typescript-to-create-a-secure-api-with-nodejs-and-express-getting-started","title":"Use TypeScript to Create a Secure API with Node.js and Express: Getting Started","description":"Learn how to set up TypeScript in Node.js and the Express framework using webpack's Hot-Module Replacement.","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/7tiXdl3hqVv1Zf4ieYQ4to/a28cbc1e456759e92860edd79a07463a/nodejs","size":{"width":1176,"height":1056}},"category":["Developers","Deep Dive","TypeScript"],"layout":"redirect","tutorialChapterTitle":null},{"path":"create-a-simple-and-secure-node-express-app","title":"Node.js and Express Authentication Using Passport","description":"Learn how to use Passport.js to add user authentication to a web app built with Node.js and Express.","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/1qXe6ns222PShhb4TBerff/bb80f7334fbc1804db1a06e8310e74a5/nodejs","size":{"width":1176,"height":1056}},"category":["Developers","Tutorial","Node"],"layout":"tutorial","tutorialChapterTitle":"Secure a Web App with Passport"},{"path":"auth0-features-to-fall-in-love-with","title":"Auth0 Features to Fall in Love With","description":"Help your customers fall in love with your application by providing a secure and easy authentication experience they don't have to remember.","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/gADLmc9RdVnmfSaHOGRAA/76aa9da7043a15afee799d776a633b9d/value-passion","size":{"width":2386,"height":2744}},"category":["Developers","Product","Auth0"],"layout":"post","tutorialChapterTitle":null}],"mlRecommendations":["/blog/create-a-simple-and-secure-node-express-app/","/blog/node-js-and-typescript-tutorial-secure-an-express-api/","/blog/node-js-and-express-tutorial-building-and-securing-restful-apis/"],"isFeatured":null,"isHiddenFromBlogPostGrid":null,"isInPressRelease":null,"sidebarAd":null,"mlRecommendationsData":[{"path":"/blog/node-js-and-express-tutorial-building-and-securing-restful-apis/","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/1qXe6ns222PShhb4TBerff/bb80f7334fbc1804db1a06e8310e74a5/nodejs","size":{"width":1176,"height":1056}},"title":"Node.js and Express Tutorial: Building and Securing RESTful APIs","category":["Developers","Tutorial","Express"]},{"path":"/blog/node-js-and-typescript-tutorial-secure-an-express-api/","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/7tiXdl3hqVv1Zf4ieYQ4to/a28cbc1e456759e92860edd79a07463a/nodejs","size":{"width":1176,"height":1056}},"title":"Node.js and TypeScript Tutorial: Secure an Express API","category":["Developers","Deep Dive","TypeScript"]},{"path":"/blog/create-a-simple-and-secure-node-express-app/","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/1qXe6ns222PShhb4TBerff/bb80f7334fbc1804db1a06e8310e74a5/nodejs","size":{"width":1176,"height":1056}},"title":"Node.js and Express Authentication Using Passport","category":["Developers","Tutorial","Node"]}],"withAB":true},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"complete-guide-to-nodejs-express-user-authentication"},"buildId":"I43xXcequAvaX-KjKSfD6","assetPrefix":"/blog","isFallback":false,"gsp":true,"customServer":true,"scriptLoader":[]}</script><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/9117-7ad8fe201376a0b8.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/developers-7a527d6b85ffa6de.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/blog-0990e1fa49e73292.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/leadership-92218fdf2c009bb4.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/identity-and-security-323314e2439a03e7.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/business-50340a77064e5d51.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/culture-d65db5a6b85cbaac.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/engineering-59c86ac863cfcece.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/announcements-cd705de704517cf9.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/8561-9d18481920a2c546.js"></script><script src="./The Complete Guide to Node.js User Authentication with Auth0_files/[author]-2315442a384a8563.js"></script><div id="onetrust-consent-sdk"><div class="onetrust-pc-dark-filter ot-hide ot-fade-in"></div><div id="onetrust-pc-sdk" class="otPcCenter ot-hide ot-fade-in" aria-modal="true" role="alertdialog" lang="en" aria-label="About cookies in this site"><!-- Close Button --><div class="ot-pc-header"><!-- Logo Tag --><div class="ot-pc-logo" role="img" aria-label="Auth0 Logo" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/5b38f79c-c925-4d4e-af5e-ec27e97e1068/6a790121-1539-4b35-ae43-bb583f44bd6d/c37cab83-d5f3-4ca2-bd49-6520aba580ec/Logo.png&quot;);
                    background-position: left;"></div></div><!-- Close Button --><div id="ot-pc-content" class="ot-pc-scrollbar ot-enbl-chr"><h2 id="ot-pc-title">About cookies in this site</h2><div id="ot-pc-desc">Please choose whether this site may use Functional and/or Advertising cookies, as described below:
                <br><a href="https://auth0.com/privacy" class="privacy-notice-link" rel="noopener" target="_blank" aria-label="More information about your privacy, opens in a new tab">More information</a></div><button id="accept-recommended-btn-handler">Accept All</button><section class="ot-sdk-row ot-cat-grp"><h3 id="ot-category-title"> Manage Consent Preferences</h3><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="1"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-1" aria-labelledby="ot-header-id-1"></button><!-- Accordion header --><div class="ot-acc-hdr ot-always-active-group"><h4 class="ot-cat-header" id="ot-header-id-1">Strictly Necessary Cookies</h4><div class="ot-arw-cntr"><svg class="ot-arw" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"></path></svg></div><div class="ot-always-active">Always Active</div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-1">These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms. &nbsp; &nbsp;You can set your browser to block or alert you about these cookies, but some parts of the site will not then work. These cookies do not store any personally identifiable information.</p></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="2"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-2" aria-labelledby="ot-header-id-2"></button><!-- Accordion header --><div class="ot-acc-hdr"><h4 class="ot-cat-header" id="ot-header-id-2">Performance Cookies</h4><div class="ot-arw-cntr"><svg class="ot-arw" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"></path></svg></div><div class="ot-tgl"><input type="checkbox" name="ot-group-id-2" id="ot-group-id-2" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="2" checked="" aria-labelledby="ot-header-id-2"> <label class="ot-switch" for="ot-group-id-2"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Performance Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-2">These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site. They help us to know which pages are the most and least popular and see how visitors move around the site. &nbsp; &nbsp;All information these cookies collect is aggregated and therefore anonymous. If you do not allow these cookies we will not know when you have visited our site, and will not be able to monitor its performance.</p></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="3"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-3" aria-labelledby="ot-header-id-3"></button><!-- Accordion header --><div class="ot-acc-hdr"><h4 class="ot-cat-header" id="ot-header-id-3">Functional Cookies</h4><div class="ot-arw-cntr"><svg class="ot-arw" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"></path></svg></div><div class="ot-tgl"><input type="checkbox" name="ot-group-id-3" id="ot-group-id-3" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="3" checked="" aria-labelledby="ot-header-id-3"> <label class="ot-switch" for="ot-group-id-3"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Functional Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-3">These cookies enable the website to provide enhanced functionality and personalisation. They may be set by us or by third party providers whose services we have added to our pages. &nbsp; &nbsp;If you do not allow these cookies then some or all of these services may not function properly.</p></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="4"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-4" aria-labelledby="ot-header-id-4"></button><!-- Accordion header --><div class="ot-acc-hdr"><h4 class="ot-cat-header" id="ot-header-id-4">Targeting Cookies</h4><div class="ot-arw-cntr"><svg class="ot-arw" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"></path></svg></div><div class="ot-tgl"><input type="checkbox" name="ot-group-id-4" id="ot-group-id-4" aria-checked="false" role="switch" class="category-switch-handler" data-optanongroupid="4" aria-labelledby="ot-header-id-4"> <label class="ot-switch" for="ot-group-id-4"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Targeting Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-4">These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant adverts on other sites. &nbsp; &nbsp;They do not store directly personal information, but are based on uniquely identifying your browser and internet device. If you do not allow these cookies, you will experience less targeted advertising.</p></div></div><!-- Groups sections starts --><!-- Group section ends --><!-- Accordion Group section starts --><!-- Accordion Group section ends --></section></div><section id="ot-pc-lst" class="ot-hide ot-hosts-ui ot-pc-scrollbar ot-enbl-chr"><div id="ot-pc-hdr"><div id="ot-lst-title"><button class="ot-link-btn back-btn-handler" aria-label="Back"><svg id="ot-back-arw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Back Button</title><g><path fill="#656565" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835
                    l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425
                    c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564
                    s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978
                    L213.13,222.409z"></path></g></svg></button> <span>Performance Cookies</span></div><div class="ot-lst-subhdr"><div class="ot-search-cntr"><p role="status" class="ot-scrn-rdr"></p><label for="vendor-search-handler" class="ot-scrn-rdr">Vendor Search</label> <input id="vendor-search-handler" type="text" placeholder="Search..." name="vendor-search-handler"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 -30 110 110"><title>Search Icon</title><path fill="#2e3644" d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
            s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
            c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
            s-17-7.626-17-17S14.61,6,23.984,6z"></path></svg></div><div class="ot-fltr-cntr"><button id="filter-btn-handler" aria-label="Filter" aria-haspopup="true"><svg role="presentation" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 402.577 402.577" xml:space="preserve"><title>Filter Icon</title><g><path fill="#fff" d="M400.858,11.427c-3.241-7.421-8.85-11.132-16.854-11.136H18.564c-7.993,0-13.61,3.715-16.846,11.136
      c-3.234,7.801-1.903,14.467,3.999,19.985l140.757,140.753v138.755c0,4.955,1.809,9.232,5.424,12.854l73.085,73.083
      c3.429,3.614,7.71,5.428,12.851,5.428c2.282,0,4.66-0.479,7.135-1.43c7.426-3.238,11.14-8.851,11.14-16.845V172.166L396.861,31.413
      C402.765,25.895,404.093,19.231,400.858,11.427z"></path></g></svg></button></div><div id="ot-anchor"></div><section id="ot-fltr-modal"><div id="ot-fltr-cnt"><button id="clear-filters-handler">Clear</button><div class="ot-fltr-scrlcnt ot-pc-scrollbar"><div class="ot-fltr-opts"><div class="ot-fltr-opt"><div class="ot-chkbox"><input id="chkbox-id" type="checkbox" aria-checked="false" class="category-filter-handler"> <label for="chkbox-id"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div><div class="ot-fltr-btns"><button id="filter-apply-handler">Apply</button> <button id="filter-cancel-handler">Cancel</button></div></div></div></section></div></div><section id="ot-lst-cnt" class="ot-host-cnt ot-pc-scrollbar"><div id="ot-sel-blk"><div class="ot-sel-all"><div class="ot-sel-all-hdr"><span class="ot-consent-hdr">Consent</span> <span class="ot-li-hdr">Leg.Interest</span></div><div class="ot-sel-all-chkbox"><div class="ot-chkbox" id="ot-selall-hostcntr"><input id="select-all-hosts-groups-handler" type="checkbox" aria-checked="false"> <label for="select-all-hosts-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-vencntr"><input id="select-all-vendor-groups-handler" type="checkbox" aria-checked="false"> <label for="select-all-vendor-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-licntr"><input id="select-all-vendor-leg-handler" type="checkbox" aria-checked="false"> <label for="select-all-vendor-leg-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div></div><div class="ot-sdk-row"><div class="ot-sdk-column"></div></div></section></section><div class="ot-pc-footer"><div class="ot-btn-container"><button class="ot-pc-refuse-all-handler">Required Only</button> <button class="save-preference-btn-handler onetrust-close-btn-handler">Submit Preferences</button></div><!-- Footer logo --><div class="ot-pc-footer-logo"><a href="https://www.onetrust.com/products/cookie-consent/" target="_blank" rel="noopener noreferrer" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/static/poweredBy_ot_logo.svg&quot;);" aria-label="Powered by OneTrust Opens in a new Tab"></a></div></div><!-- Cookie subgroup container --><!-- Vendor list link --><!-- Cookie lost link --><!-- Toggle HTML element --><!-- Checkbox HTML --><!-- plus minus--><!-- Arrow SVG element --><!-- Accordion basic element --><span class="ot-scrn-rdr" aria-atomic="true" aria-live="polite"></span><iframe class="ot-text-resize" title="onetrust-text-resize" style="position: absolute; top: -50000px; width: 100em;" aria-hidden="true" src="./The Complete Guide to Node.js User Authentication with Auth0_files/saved_resource.html"></iframe></div></div><script type="text/javascript" id="">window.heap=window.heap||[];
heap.load=function(b,a){window.heap.appid=b;window.heap.config=a=a||{};a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://cdn.heapanalytics.com/js/heap-"+b+".js";b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);b=function(d){return function(){heap.push([d].concat(Array.prototype.slice.call(arguments,0)))}};a="addEventProperties addUserProperties clearEventProperties identify resetIdentity removeEventProperty setEventProperties track unsetEventProperty".split(" ");for(var c=
0;c<a.length;c++)heap[a[c]]=b(a[c])};heap.load("1279799279");</script><script type="text/javascript" id="">function pushToDataLayer(a){a={reveal:a};dataLayer.push(a);dataLayer.push({event:"Clearbit Loaded"});return!0};</script>
<script type="text/javascript" id="" src="./The Complete Guide to Node.js User Authentication with Auth0_files/reveal"></script><div id="drift-frame-chat" class="drift-conductor-item drift-frame-chat drift-frame-chat-align-right with-transition drift-has-chat" aria-hidden="true" tabindex="-1" style="right: 12px; width: 400px !important; max-width: none; position: fixed; z-index: 2147483647; max-height: 0px; bottom: 88px; visibility: hidden; min-width: 320px; height: 100% !important; opacity: 0;"><iframe class="drift-frame-chat" scrolling="no" title="Drift Widget Chat Window" allow="autoplay; encrypted-media; fullscreen;" frameborder="0" src="./The Complete Guide to Node.js User Authentication with Auth0_files/chat.html" style="background: transparent; width: 400px !important; max-width: 100%; height: 100%; border: none; min-width: 100%; min-height: 100%;" aria-hidden="true" tabindex="-1"></iframe></div><div id="drift-frame-controller" class="drift-conductor-item drift-frame-controller drift-frame-controller-align-right drift-has-chat" style="right: 24px; width: 76px !important; max-width: none; position: fixed; z-index: 2147483647; height: 76px !important; bottom: 24px;"><iframe class="drift-frame-controller" scrolling="no" title="Drift Widget Icon" allow="autoplay; encrypted-media; fullscreen;" frameborder="0" src="./The Complete Guide to Node.js User Authentication with Auth0_files/core.html" style="background: transparent; width: 76px !important; max-width: 100%; height: 100%; border: none; min-width: 100%; min-height: 100%;"></iframe></div></body></html>